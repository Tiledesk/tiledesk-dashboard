<div class="panel-intent-content tds_draggable">
    
    <div class="pic-header tds_draggable">
        
        <div class="pic-header-title tds_draggable">
            <div class="pic-header-title-input tds_draggable">
                <div class="pic-title-text tds_draggable">
                    {{ intent.intent_display_name }}
                </div>
            </div>
        </div>
        <!-- <appdashboard-panel-intent-header
            [intentSelected]="intent"
            [listOfIntents]="listOfIntents">
        </appdashboard-panel-intent-header> -->

    </div>


    <div id="drop-actions"
        class="drag-actions target-container"
        [cdkDropListData]="intentActionList"
        cdkDropList
        (cdkDropListDropped)="onDropAction($event)">
         <!-- [id]="'action_'+i" -->
        <div *ngFor="let action of intentActionList; let i = index"
            cdkDrag
            (cdkDragReleased)="onDragEnded($event)"
            [id]="action._tdActionId"
            class="box-action"
            tabindex="0"
            [ngClass]="{'cds-action-active': idSelectedAction === action._tdActionId}"
            (click)="onSelectAction(action._tdActionId)">
            <!-- (keydown)="onDeleteAction($event)" -->
            <!-- <div cdkDragHandle class="header-action"> -->
                <!-- <div class="icon-action">
                    <img [src]="getActionParams(action).src" [title]="getActionParams(action).name" />
                </div>
                <span class="label-action">
                    <div class="sc-irCEUn gzQaYi vf-canvas__step-item-label">
                        {{ getActionParams(action).name }}
                    </div>
                </span> -->
                <cds-action-description cdkDragHandle class="header-action"
                    [elementType]="action._tdActionType">
                </cds-action-description>

            <!-- </div> -->

            
            <div cdkDragDisabled class="body-action" [ngSwitch]="action._tdActionType">

                <cds-action-intent  *ngSwitchCase="TYPE_ACTION.INTENT"
                    class="panel-response"
                    [intentSelected]="intent"
                    [connectorChanged]="connectorChanged"
                    [action]="action"
                    (updateAndSaveAction)="onUpdateAndSaveAction($event)">
                </cds-action-intent>

                <cds-action-reply  *ngSwitchCase="TYPE_ACTION.REPLY"
                    class="panel-response"
                    [intentSelected]="intent"
                    [connector]="connector"
                    [action]="action"
                    (updateAndSaveAction)="onUpdateAndSaveAction($event)">
                </cds-action-reply>

                <cds-action-online-agents *ngSwitchCase="TYPE_ACTION.ONLINE_AGENTS"
                    class="panel-response"
                    [intentSelected]="intent"
                    [connectorChanged]="connectorChanged"
                    [listOfActions] = "listOfActions"    
                    [action]="action"
                    (updateAndSaveAction)="onUpdateAndSaveAction($event)">
                </cds-action-online-agents>

            </div>

        </div>
    </div>
    

</div>



