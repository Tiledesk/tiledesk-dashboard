<div class="cds-action-content">
    <!-- <cds-action-description
        [elementType]="action._tdActionType">
    </cds-action-description> -->

    <div class="box-up">

        <cds-action-reply-tools
            (addNewActionReply) = onAddNewActionReply($event)>
        </cds-action-reply-tools>        

    </div>

    <div class="box-dw">

        <div #scrollMe id="scrollMe" 
            class="content draggable-list"
            cdkDropList 
            (cdkDropListDropped)="drop($event)">
            <div *ngFor="let message of arrayMessagesWithWait; let i = index;"
                class="draggable-box" 
                [ngStyle]="{'margin-top':typeAction === typeActions.RANDOM_REPLY?'20px':'0px', 'margin-bottom':typeAction === typeActions.RANDOM_REPLY?'30px':'0px'}" 
                cdkDrag>
                
                <div *ngIf="message.type === typeMessage.TEXT">

                    <div class="response">
                        <div *ngIf="typeAction === typeActions.REPLY"
                            class="response-drop" 
                            [ngClass]="{'grabbing':textGrabbing}"
                            (mousedown)="mouseDown()" 
                            (mouseup)="mouseUp()" 
                            cdkDragHandle>
                        </div>

                        <cds-action-reply-text
                            [index] = i
                            [idAction] = "idAction"
                            [typeAction] = "typeAction"
                            [response] = "message"
                            (moveUpResponse) = onMoveUpResponse($event)
                            (moveDownResponse) = onMoveDownResponse($event)
                            (openButtonPanel) = onOpenButtonPanel($event)
                            (createNewButton) = onCreateNewButton($event)
                            (deleteButton) = onDeleteButton()
                            (deleteActionReply) = onDeleteActionReply($event)
                            (changeActionReply) = onChangeActionReply()>
                        </cds-action-reply-text>
                        <!-- 
                            (changeDelayTimeReplyAction) = onChangeDelayTimeReplyAction() 
                            (moveUpResponse) = onMoveUpResponse($event)
                            (moveDownResponse) = onMoveDownResponse($event)
                        -->
                    </div>

                </div>
            </div>
        </div>

    </div>


</div>