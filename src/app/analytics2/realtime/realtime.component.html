  <div class="row" style="text-align: center; margin-top:35px">
    <div class="col-md-12" >
        <h4 class="section-title">
            {{ 'Analytics.RealTimeMonitoring' | translate}}
        </h4>
    </div>
  </div>

  <!-- // START ALL THE REQUESTS COUNT (SERVED UNSERVED ACTIVE) -->
  <div class="row">
    <!-- ============ TOTAL ACTIVE - OVER ALL THE REQUESTS ============ -->
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <div class="card card-stats" style="border-radius: 10px;">
            
            <div class="card-header tiledesk_card_header">

                <!-- <i class="material-icons card-header_icon " style="color: #ff9800; ">
                    message
                </i> -->
                <!-- <svg class="chat-icon" style="width: 32px; position: relative; top: 12px;" viewBox="0 0 16 16">
                    <path d="M2.07 15.597c-.115-.253-.085-.556.075-.777.01-.016.958-1.33 1.146-2.707C1.63 11.207 0 9.29 0 6.88 0 3.088 3.59 0 8 0s8 3.087 8 6.88c0 3.826-3.59 6.938-8 6.938h-.957C5.74 15.888 2.815 15.996 2.683 16c-.268 0-.5-.156-.612-.403zM1.334 6.88c0 1.865 1.46 3.476 2.904 4.103.253.11.42.378.42.676 0 .964-.316 1.908-.654 2.643.77-.23 1.66-.678 2.07-1.546.116-.24.344-.393.594-.393H8c3.676 0 6.667-2.46 6.667-5.483 0-2.99-2.99-5.425-6.667-5.425-3.676 0-6.667 2.434-6.667 5.426z" 
                        fill="#ff9800" fill-rule="evenodd">
                    </path>
                </svg> -->

                <svg viewBox="0 0 58.1 53.9" style="width: 42px; position: relative; top: 7px" xml:space="preserve">
                    <style type="text/css">
                        .st0-chat-active{fill:none;stroke:#ff9800;stroke-width:3;stroke-miterlimit:10;}
                    </style>
                    <path class="st0-chat-active" d="M30.1,2.6c-13.8,0-25,10-25,22.4c0,4.6,1.5,8.8,4.1,12.3C8.9,41.4,7.9,47.2,5.1,50c0,0,8.6-1.2,14.4-4.7
                        c3.2,1.4,6.8,2.1,10.6,2.1c13.8,0,25-10,25-22.4S43.9,2.6,30.1,2.6z"/>
                </svg>  
            </div>

            <div class="card-content" style="text-align: center">

                <p class="card_content_header">
                    <span class="card_content_header_last_update">
                        <i class="material-icons card_content_header_last_update_icons">
                            update
                        </i>  
                        {{ "Updated" | translate }}: {{ date | amTimeAgo }}
                    </span>
                </p>

                <div class="request_count" style="color: #ff9800">
                  
                    <span class="request_count_icons_numbers">  
                      {{ global_activeRequestsCount }}  
                    </span>
                                    
                </div>

                <span style="color: #ff9800" > 
                    <span *ngIf="global_activeRequestsCount > 1 || global_activeRequestsCount == 0" > 
                        {{ "Requests" | translate }} 
                    </span>
                    <span *ngIf="global_activeRequestsCount == 1"> 
                        {{ "Request" | translate }} 
                    </span>
                </span>

            </div>
            <div class="card-footer request_count_footer">
                {{ "TotalActive" | translate }} 
            </div>
        </div>
    </div>

    <!-- ============ SERVED - OVER ALL THE REQUESTS ============ -->
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <div class="card card-stats" style="border-radius: 10px;">
          
            <div class="card-header tiledesk_card_header">
                <!-- <i class="material-icons card-header_icon " style="color: #00bcd4;">
                    visibility
                </i> -->

                <!-- <svg class="chat-icon" style="width: 32px; position: relative; top: 12px;" viewBox="0 0 16 16">
                    <path d="M2.07 15.597c-.115-.253-.085-.556.075-.777.01-.016.958-1.33 1.146-2.707C1.63 11.207 0 9.29 0 6.88 0 3.088 3.59 0 8 0s8 3.087 8 6.88c0 3.826-3.59 6.938-8 6.938h-.957C5.74 15.888 2.815 15.996 2.683 16c-.268 0-.5-.156-.612-.403zM1.334 6.88c0 1.865 1.46 3.476 2.904 4.103.253.11.42.378.42.676 0 .964-.316 1.908-.654 2.643.77-.23 1.66-.678 2.07-1.546.116-.24.344-.393.594-.393H8c3.676 0 6.667-2.46 6.667-5.483 0-2.99-2.99-5.425-6.667-5.425-3.676 0-6.667 2.434-6.667 5.426z" 
                        fill="#00bcd4" fill-rule="evenodd">
                    </path>
                </svg> -->
                <svg  viewBox="0 0 58.1 53.9" style="width: 42px; position: relative; top: 7px" xml:space="preserve">
                    <style type="text/css">
                        .st0-served{fill:none;stroke:#05BDD4;stroke-width:3;stroke-miterlimit:10;}
                        .st1-served{fill:#05BDD4;}
                    </style>
                    <g>
                        <path class="st0-served" d="M30.5,3c-13.8,0-25,10-25,22.4c0,4.6,1.5,8.8,4.1,12.3c-0.3,4.1-1.3,9.9-4.1,12.7c0,0,8.6-1.2,14.4-4.7
                        c3.2,1.4,6.8,2.1,10.6,2.1c13.8,0,25-10,25-22.4S44.3,3,30.5,3z"/>
                        <g>
                        <circle class="st1-served" cx="17.5" cy="26.7" r="3"/>
                        <circle class="st1-served" cx="30.5" cy="26.7" r="3"/>
                        <circle class="st1-served" cx="43.5" cy="26.7" r="3"/>
                        </g>
                    </g>
                </svg>
            </div>

            <div class="card-content" style="text-align: center;">
              
                <p class="card_content_header">
                    <span class="card_content_header_last_update">
                        <i class="material-icons card_content_header_last_update_icons">
                            update
                        </i>  
                        {{ "Updated" | translate }}: {{ date | amTimeAgo }}
                    </span>
                </p>

                <div class="request_count" style="color: #00bcd4">
                  
                    <span class="request_count_icons_numbers">  
                        {{ global_servedRequestsCount }} 
                    </span>   

                </div>

                <span style="color: #00bcd4" > 
                    <span *ngIf="global_servedRequestsCount > 1 || global_servedRequestsCount == 0"> 
                        {{ "Requests" | translate }} 
                    </span>
                    <span *ngIf="global_servedRequestsCount == 1"> 
                        {{ "Request" | translate }} 
                    </span>
                </span>
            </div>

            <div class="card-footer request_count_footer" >
                {{ "Served" | translate }}
            </div>
        </div>
    </div>

    <!-- ============ UNSERVED - COUNT OVER ALL THE REQUESTS ============ -->
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <div class="card card-stats"  style="border-radius: 10px;">

            <div class="card-header tiledesk_card_header">
                <!-- <i class="material-icons card-header_icon " style="color: #f44336; ">
                    visibility
                </i> -->
                <!-- <svg version="1.1" id="Livello_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                    viewBox="0 0 16 18" style="width: 32px; position: relative; top: 12px;" xml:space="preserve">
                <style type="text/css">
                    .chat-icon-unserved-request{fill:#f44336;}
                </style>
                <path class="chat-icon-unserved-request" d="M2.1,16.6C2,16.3,2,16,2.1,15.8c0,0,1-1.3,1.1-2.7C1.6,12.2,0,10.3,0,7.9C0,4.1,3.6,1,8,1s8,3.1,8,6.9
                    s-3.6,6.9-8,6.9H7C5.7,16.9,2.8,17,2.7,17C2.4,17,2.2,16.8,2.1,16.6L2.1,16.6z M1.3,7.9c0,1.9,1.5,3.5,2.9,4.1
                    c0.3,0.1,0.4,0.4,0.4,0.7c0,1-0.3,1.9-0.7,2.6c0.8-0.2,1.7-0.7,2.1-1.5c0.1-0.2,0.3-0.4,0.6-0.4H8c3.7,0,6.7-2.5,6.7-5.5
                    s-3-5.4-6.7-5.4C4.3,2.5,1.3,4.9,1.3,7.9L1.3,7.9z"/>
                <g>
                    <path class="chat-icon-unserved-request" d="M8,11.2c-0.4,0-0.8-0.4-0.8-0.8c0-0.4,0.4-0.8,0.8-0.8c0.4,0,0.8,0.4,0.8,0.8C8.8,10.8,8.5,11.2,8,11.2z"/>
                    <path class="chat-icon-unserved-request" d="M9.1,5.6L8.7,8.3C8.7,8.7,8.3,8.9,7.9,8.9c-0.3,0-0.6-0.3-0.6-0.6L6.9,5.6C6.8,5,7.2,4.4,7.8,4.3
                    C8.4,4.2,9,4.6,9.1,5.2C9.2,5.3,9.2,5.5,9.1,5.6z"/>
                </g>
                </svg> -->

                <svg viewBox="0 0 58.1 53.9" style="width: 42px; position:relative; top:7px" xml:space="preserve">
                    <style type="text/css">
                        .st0-unserved{fill:none;stroke:#ED4537;stroke-width:3;stroke-miterlimit:10;}
                        .st1-unserved{fill:#ED4537;}
                    </style>
                    <path class="st0-unserved" d="M30.5,3.3c-13.8,0-25,10-25,22.4c0,4.6,1.5,8.8,4.1,12.3c-0.3,4.1-1.3,9.9-4.1,12.7c0,0,8.6-1.2,14.4-4.7
                        c3.2,1.4,6.8,2.1,10.6,2.1c13.8,0,25-10,25-22.4S44.3,3.3,30.5,3.3z"/>
                    <g>
                        <path class="st1-unserved" d="M30.6,38.9c-1.7,0-3.1-1.4-3.1-3c0-1.7,1.4-3,3.1-3c1.7,0,3.1,1.4,3.1,3C33.6,37.6,32.3,38.9,30.6,38.9z"/>
                        <path class="st1-unserved" d="M34.8,18l-1.5,10c-0.2,1.5-1.6,2.5-3.1,2.3c-1.2-0.2-2.1-1.1-2.3-2.2l-1.6-10c-0.4-2.3,1.2-4.5,3.6-4.9
                        c2.4-0.4,4.6,1.2,5,3.5C34.9,17.1,34.9,17.6,34.8,18z"/>
                    </g>
                </svg>


            </div>

            <div class="card-content" style="text-align: center;">
                
                <p class="card_content_header">
                    <span class="card_content_header_last_update">
                        <i class="material-icons card_content_header_last_update_icons">
                            update
                        </i>  
                        {{ "Updated" | translate }}: {{ date | amTimeAgo }}
                    </span>
                </p>

                <div class="request_count" style="color: #f44336" >
                            
                    <span class="request_count_icons_numbers">    
                        {{ global_unservedRequestsCount }}    
                    </span>    
                </div>
                <span style="color: #f44336" > 
                    <span *ngIf="global_unservedRequestsCount > 1 || global_unservedRequestsCount == 0"> 
                        {{ "Requests" | translate }} 
                    </span>
                    <span *ngIf="global_unservedRequestsCount == 1"> 
                        {{ "Request" | translate }} 
                    </span>
                </span>

            </div>
            <div class="card-footer request_count_footer" >
                {{ "Unserved" | translate }}
            </div>
        </div>
    </div>
  </div>
  <!-- // END GLOBAL REQUESTS COUNT (SERVED UNSERVED ACTIVE) -->
  <div class="row">
      <!-- /// start ======== --- TABLE "REQUESTS X AGENT" --- ======== /// -->
      <div class="col-md-4">
          <div class="card">
              <div class="card-header card-header-custom" style="background-color: #fff; padding-top: 12px;padding-bottom: 10px;">
                  <h4 class="c21-title" style="margin-bottom:2px; margin-top:2px;">
                      
                      {{ "RequestsForAgent" | translate }}
            
                  </h4>
              </div>

              <loading-spinner *ngIf="showSpinner"></loading-spinner>
              <div *ngIf="!showSpinner" class="card-content table-responsive" style="padding-top: 0px">
                  <table class="table table-hover">

                      <thead>
                          <tr>
                              <!-- ------====== column IMAGE (note: THE COLUMN HEADING IS 'USER') ======------ -->
                              <th>
                                  <!-- <span style="color: #566787">
                                      <strong>
                                      {{ "UsersPage.User" | translate }}
                                      </strong>
                                  </span> -->
                              </th>
                              <!-- ------====== column USER (NAME + LASTNAME) ======------ -->
                              <th>
                                  <!-- <span style="color: #566787">
                                      <strong>
                                      {{ "UsersPage.User" | translate }}
                                      </strong>
                                  </span> -->
                              </th>

                              <!-- ------====== column # OF ASSIGNEDE REQUESTS  ======------ -->
                              <th>
                                  <!-- <span style="color: #566787">
                                      <strong>
                                      #
                                      </strong>
                                  </span> -->
                              </th>
                          </tr>
                      </thead>
                      
                      <tbody>
                          <tr *ngFor="let member of projectUsers">
                              <td style="width:45px; padding-top:4px !important; padding-bottom:4px!important; cursor:pointer"
                                  (click)="goToMemberProfile(member?.id_user?._id)">
                            
                                  <img style="vertical-align: middle; width: 32px; height: 32px; border-radius: 50%; border: 1px solid #eee; margin-right: 15px;" 
                                  class="user-img" src="https://firebasestorage.googleapis.com/v0/b/chat-v2-dev.appspot.com/o/profiles%2F{{member?.id_user?._id}}%2Fphoto.jpg?alt=media" 
                                  onerror="this.src='assets/img/no_image_user.png'"/>

                                  <!-- <img *ngIf="userProfileImageExist !== true" style="vertical-align: middle; width: 60px; height: 60px; border-radius: 50%; border: 1px solid #eee; margin-right: 15px;" 
                                  class="user-img" src="assets/img/no_image_user.png"/> -->

                              </td>

                              <td style="font-weight: 400;cursor:pointer"  (click)="goToMemberProfile(member?.id_user?._id)">
                                <span style="text-transform: uppercase">{{ member?.id_user?.lastname }}</span>  {{ member?.id_user?.firstname }} 
                              </td>
          
                              <td>
                                <span style="font-weight: 400">  {{ member?.value }}</span> 
                                <!-- <span style="color: #999999; font-size:0.9em"> request </span> -->
                              </td>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div>
      </div>
      <!-- /// end ======== --- TABLE "REQUESTS X AGENT" --- ======== /// -->

      <!-- /// start ======== --- TABLE "REQUESTS X DEPTS" --- ======== /// -->
      <div class="col-md-4">
          <div class="card" style="border-radius: 10px">
              <div class="card-header card-header-custom" style="background-color: #fff; padding-top: 12px;padding-bottom: 10px;">
                  <h4 class="c21-title" style="margin-bottom:2px; margin-top:2px;">
                      
                      {{ "RequestsForDept" | translate }}
              
                  </h4>
              </div>

              <!-- <loading-spinner *ngIf="showSpinner"></loading-spinner> -->
              <div class="card-content table-responsive" style="padding-top: 0px">
                  <table class="table table-hover">

                      <thead>
                          <tr>
                              <!-- ------====== column DEPT NAME ======------ -->
                              <th> </th>

                                  <!-- ------====== column # OF ASSIGNED REQUESTS  ======------ -->
                              <th> </th>
                          </tr>
                      </thead>
                      
                      <tbody>
                          <tr  *ngFor="let dept of departments" >
                              <!-- *ngIf="dept.default === false" -->
                              <td  style="cursor:pointer; font-weight: 400;" (click)="goToEditAddPage_EDIT(dept?._id)" >
                                  {{ dept?.name }}
                              </td>
          
                              <!-- *ngIf="dept.default === false" -->
                              <td>
                                  <span style="font-weight: 400">  
                                      {{ dept?.value }}
                                  </span> 
                                  <!-- <span style="color: #999999; font-size:0.9em"> request </span> -->
                              </td>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div>
      </div>

      <!-- /// start ======== --- CARD "LAST MONTH REQUESTS COUNT" --- ======== /// -->
      <div class="col-md-4">
          <div class="card card-stats"  style="border-radius: 10px; margin-top:0px">
              
              <div class="card-header tiledesk_card_header">

                  <svg viewBox="0 0 58.1 53.9" style="width: 42px; position: relative; top: 7px" xml:space="preserve">
                      <style type="text/css">
                          .st0-chat-active{fill:none;stroke:#ff9800;stroke-width:3;stroke-miterlimit:10;}
                      </style>
                      <path class="st0-chat-active" d="M30.1,2.6c-13.8,0-25,10-25,22.4c0,4.6,1.5,8.8,4.1,12.3C8.9,41.4,7.9,47.2,5.1,50c0,0,8.6-1.2,14.4-4.7
                          c3.2,1.4,6.8,2.1,10.6,2.1c13.8,0,25-10,25-22.4S43.9,2.6,30.1,2.6z"/>
                  </svg>  
              </div>

              <div class="card-content" style="text-align: center">

                  <div class="request_count" style="color: #ff9800">
                      
                      <span class="request_count_icons_numbers">  
                          {{ lastMonthrequestsCount }}
                      </span>
                                          
                  </div>

                  <span style="color: #ff9800" > 
                      <span *ngIf="lastMonthrequestsCount > 1 || lastMonthrequestsCount == 0" > {{ "Requests" | translate }} </span>
                      <span *ngIf="lastMonthrequestsCount == 1"> {{ "Request" | translate }} </span>
                  </span>

              </div>
              <div class="card-footer request_count_footer" style="margin-bottom: 11px;">
                  {{ "LastMonth" | translate }} 
              </div>
          </div>
      </div>


  </div>