<span class="navbar-brand navbar-brand-sidebar-settings"
    [ngStyle]="{'margin-top':isChromeVerGreaterThan100 === true ? '-64px' : '6px' }"
    [ngClass]="{'is_opened':IS_OPEN_SETTINGS_SIDEBAR, 'is_closed':!IS_OPEN_SETTINGS_SIDEBAR }">

    <div class="chatbot-svg-icon">

        <!-- <svg xmlns="http://www.w3.org/2000/svg" height="29px" viewBox="0 -960 960 960" width="29px" fill="#3C4858">
            <path
                d="M151.33-370.67q-46.66 0-79-32.47Q40-435.61 40-482t32.47-78.86q32.47-32.47 78.86-32.47V-702q0-27 19.84-46.83Q191-768.67 218-768.67h150.67q0-46.66 32.47-79Q433.61-880 480-880t78.86 32.47q32.47 32.47 32.47 78.86H742q27 0 46.83 19.84Q808.67-729 808.67-702v108.67q46.66 0 79 32.47Q920-528.39 920-482t-32.47 78.86q-32.47 32.47-78.86 32.47v184q0 27-19.84 46.84Q769-120 742-120H218q-27 0-46.83-19.83-19.84-19.84-19.84-46.84v-184ZM348.82-464q19.51 0 33.01-13.66 13.5-13.65 13.5-33.16 0-19.51-13.65-33.01-13.66-13.5-33.17-13.5t-33.01 13.65Q302-530.02 302-510.51t13.66 33.01q13.65 13.5 33.16 13.5Zm262.67 0q19.51 0 33.01-13.66 13.5-13.65 13.5-33.16 0-19.51-13.66-33.01-13.65-13.5-33.16-13.5-19.51 0-33.01 13.65-13.5 13.66-13.5 33.17t13.65 33.01q13.66 13.5 33.17 13.5ZM314.67-283.33h330.66V-350H314.67v66.67ZM218-186.67h524V-702H218v515.33Zm262-258Z" />
        </svg> -->

        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"
            height="29px" width="29px">
            <style type="text/css">
                .st0 {
                    fill: #3C4858
                }
            </style>
            <path class="st0" d="M12,21.9c-1,0-1.8-0.3-2.5-1c-0.7-0.7-1-1.5-1-2.5c0-0.8,0.3-1.6,0.8-2.2c0.5-0.6,1.2-1,1.9-1.2v-2.3H5.5V9H3
                V2.5h6.4V9H7v2.3h10V8.9c-0.8-0.2-1.4-0.6-1.9-1.2c-0.5-0.6-0.8-1.3-0.8-2.2c0-1,0.3-1.8,1-2.5c0.7-0.7,1.5-1,2.5-1
                c1,0,1.8,0.3,2.5,1c0.7,0.7,1,1.5,1,2.5c0,0.8-0.3,1.6-0.8,2.2c-0.5,0.6-1.2,1-1.9,1.2v3.9h-5.7v2.3c0.8,0.2,1.4,0.6,1.9,1.2
                c0.5,0.6,0.8,1.3,0.8,2.2c0,1-0.3,1.8-1,2.5C13.8,21.6,13,21.9,12,21.9z M17.8,7.5c0.5,0,1-0.2,1.4-0.6c0.4-0.4,0.6-0.8,0.6-1.4
                c0-0.5-0.2-1-0.6-1.4c-0.4-0.4-0.8-0.6-1.4-0.6c-0.5,0-1,0.2-1.4,0.6C16,4.5,15.8,5,15.8,5.5c0,0.5,0.2,1,0.6,1.4S17.2,7.5,17.8,7.5
                z M4.5,7.5H8V4H4.5C4.5,4,4.5,7.5,4.5,7.5z M12,20.4c0.5,0,1-0.2,1.4-0.6S14,19,14,18.5s-0.2-1-0.6-1.4c-0.4-0.4-0.8-0.6-1.4-0.6
                c-0.5,0-1,0.2-1.4,0.6S10,17.9,10,18.5s0.2,1,0.6,1.4C11,20.2,11.5,20.4,12,20.4z" />
        </svg>

    </div>
    <span class="chatbot-sidebar-title" *ngIf="IS_OPEN_SETTINGS_SIDEBAR">
        {{'Flows' | translate }} 
    </span>

</span>

<div class="main-content" style="padding-top:0px; padding-left: 5px;padding-right: 5px;">

    <div class="page-title--sidebar-settings"
        [ngClass]="{'page-title--sidebar-settings_opened':IS_OPEN_SETTINGS_SIDEBAR, 'page-title--sidebar-settings_closed':!IS_OPEN_SETTINGS_SIDEBAR }">
        Webhooks
    </div>

    <div class="container-fluid" style="padding-left: 5px;padding-right: 5px;">
        <div class="content-wpr" style="display: flex;">
            <appdashboard-bots-sidebar [allTemplatesCount]="allTemplatesCount"
                [allCommunityTemplatesCount]="allCommunityTemplatesCount"
                [customerSatisfactionTemplatesCount]="customerSatisfactionTemplatesCount"
                [increaseSalesTemplatesCount]="increaseSalesTemplatesCount" 
                [chatBotCount]="chatBotCount"
                [myChatbotOtherCount]="myChatbotOtherCount"
                [automationsCount]="automationsCount" 
                [flowWebhooksCount]="flowWebhooksCount"
                [customerSatisfactionBotsCount]="customerSatisfactionBotsCount"
                [increaseSalesBotsCount]="increaseSalesBotsCount">
            </appdashboard-bots-sidebar>

            <div class="teplate-content" style="flex: 1 1 auto; margin-left: 15px; ">

                <div class="row">
                    <div class="col-xs-12">

                        <div class="card card--no-border" style="margin-top: 5px;">

                            <loading-spinner *ngIf="showSpinner"></loading-spinner>
                            <div *ngIf="!showSpinner" class="main--wrapper">
                                <div *ngIf="flowWebhooks && flowWebhooks?.length === 0" class="no-bot-tr-msg-wpr">

                                    <p class="no-bot-msg">
                                        <span style="display: block;max-width: 600px;margin: auto;">
                                            <!-- You don't have any Webhooks in your automations yet. -->
                                            {{'YouDoNotHaveWebhooks' | translate}}.
                                        </span>
                                    </p>
                                </div>

                                <div class="card-list" *ngFor="let webhook of flowWebhooks; let i = index">
                                    <!-- (click)='goToBotDtls(faqkb)' -->
                                    <div class="cl-card">
                                        <div class="cl-card-content">

                                            <div class="cl-card-first-column">
                                                <div class="cl-card-img-wpr">
                                                    <img src="assets/img/logos/webhook-logo.svg"
                                                        style="width: 47px;height: 47px;" />
                                                </div>

                                                <div class="cl-card-info-wpr">
                                                    <span class="cl-card-item-name-wpr">

                                                        <div class="cl-card-item-name">

                                                            <span *ngIf="webhook?.name">
                                                                {{webhook?.name}}
                                                            </span>
                                                            <span *ngIf="!webhook?.name">
                                                                N/A
                                                            </span>

                                                        </div>
                                                    </span>
                                                    <div class="cl--card-item-description-wpr">

                                                        <div class="cl--card-item-description">
                                                            <span #copyText class="copy-text"> {{webhook?.url}} </span>
                                
                                                        </div>
                                                        <span class="copy-container"
                                                            (click)="copyToClipboard(copyText, 'item-' + i)">
                                                            <span>
                                                                <svg xmlns="http://www.w3.org/2000/svg" height="14px"
                                                                    viewBox="0 0 24 24" width="14px" fill="#e8eaed">
                                                                    <path d="M0 0h24v24H0V0z" fill="none" />
                                                                    <path
                                                                        d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" />
                                                                </svg>
                                                            </span>
                                                            <span class="copied-tooltip"
                                                                *ngIf="copiedStates['item-' + i]">
                                                                <span style="position: relative;
                                                                   top: -2px;
                                                                   font-weight: 600;"> {{'Copied' | translate}}! </span>
                                                            </span>
                                                        </span>

                                                    </div>
                                                </div>
                                            </div>


                                            <div class="cl-card-second-column">
                                                <div class="wh-onoffswitch">
                                                    <input type="checkbox" name="onoffswitch{{i}}"
                                                        class="wh-onoffswitch-checkbox" id="whonoffswitch{{i}}"
                                                        tabindex="0" [checked]="webhook.enabled"
                                                        (change)="webhookOnOff($event, webhook.webhook_id)">
                                                    <label class="wh-onoffswitch-label" for="whonoffswitch{{i}}">
                                                        <span class="wh-onoffswitch-inner"></span>
                                                        <span class="wh-onoffswitch-switch"></span>
                                                    </label>
                                                </div>


                                                <div class="wh-btn-delete-wpr">

                                                    <button class="btn btn-round-red delete-flow-wh"
                                                        (click)="$event.stopPropagation();deleteWebhook(webhook.webhook_id)">
                                                        <span>
                                                            <svg xmlns="http://www.w3.org/2000/svg" height="22px"
                                                                viewBox="0 -960 960 960" width="22px" fill="none">
                                                                <path
                                                                    d="m376-300 104-104 104 104 56-56-104-104 104-104-56-56-104 104-104-104-56 56 104 104-104 104 56 56Zm-96 180q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520Zm-400 0v520-520Z">
                                                                </path>
                                                            </svg>
                                                        </span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>