
<!-- <span class="navbar-brand navbar-brand-sidebar-settings"
  [ngStyle]="{'margin-top':isChromeVerGreaterThan100 === true ? '-64px' : '6px' }"
  [ngClass]="{'is_opened':IS_OPEN_SETTINGS_SIDEBAR, 'is_closed':!IS_OPEN_SETTINGS_SIDEBAR }">
  <i class="material-icons">settings</i>

  <span *ngIf="IS_OPEN_SETTINGS_SIDEBAR">{{ 'Settings' | translate }} </span>
</span> -->




<div class="main-content" style="padding-top:0px; padding-left: 10px;margin-left: -5px; padding-right: 0px;">

  <div class="container-fluid" style="padding-left: 5px; padding-right:0px">

    <div class="page-title--sidebar-settings"
      [ngClass]="{'page-title--sidebar-settings_opened':IS_OPEN_SETTINGS_SIDEBAR, 'page-title--sidebar-settings_closed':!IS_OPEN_SETTINGS_SIDEBAR }">

      <i *ngIf="callingPage === 'widgetsetup'" class="material-icons" (click)="goBack()"
        style="vertical-align: middle !important; cursor: pointer;">
        keyboard_arrow_left
      </i>

      {{ "Translations" | translate }}
    </div>
    <div class="content-wpr" style="display: flex;">

      <appdashboard-settings-sidebar> </appdashboard-settings-sidebar>
      <!-- margin-left: 20px; -->
      <div class="teplate-content" style="flex: 1 1 auto; ">
        <ng-container *ngIf="permissionChecked">
          <ng-container *ngIf="isAuthorized; else unauthorizedTpl">

            <ul class="bottom-nav-widget-translations">

              <!-- ----------------------------------------------------------------------------- -->
              <!-- @ For over language cod & language name -->
              <!-- ----------------------------------------------------------------------------- -->
              <section *ngIf="showSheleton">
                <div class="skeleton">
                  <li *ngFor="let fake of generateFake(2)">

                  </li>
                </div>
              </section>


              <section *ngIf="!showSheleton">
                <span *ngFor="let lang of availableTranslations">
                  <li class="btn-with-border-effect" [id]="lang.code +'_tab'"
                    (click)="_selectTranslationTab(lang.code, lang.name)" [ngClass]="
                    { 'disabled-li' : selectedTranslationCode === lang.code, 
                      'border-from-center' : selectedTranslationCode !== lang.code,
                      'li-active' : selectedTranslationCode === lang.code}">
                    <a style="height:52px"> {{ lang?.name }} </a>

                    <!-- defaultLangName   {{defaultLangName }} *ngIf="defaultLangName === lang?.code" -->
                    <span class="default-lang-badge" *ngIf="defaultLangName === lang?.name"> default </span>
                    <!-- <span  class="beta-lang-badge" *ngIf=" lang?.code === 'az' || lang?.code === 'kk' || lang?.code === 'sv' || lang?.code === 'uz'">beta</span> -->

                  </li>
                </span>



                <li (click)="_selectTranslationTab('add', 'add')" class="btn-with-border-effect" [ngClass]="
              { 'disabled-li' : selectedTranslationCode === 'add', 
                'border-from-center' : selectedTranslationCode !== 'add', 
                'li-active' : selectedTranslationCode === 'add'}">

                  <a> {{ "Add" | translate }} </a>
                </li>
              </section>

            </ul>


            <div class="row">
              <div class="col-md-12 w-m-card-wpr">
                <div class="card multilanguage-card">
   
                  <!-- -------------------------------------------------------------- -->
                  <!-- @ Skeleton -->
                  <!-- -------------------------------------------------------------- -->
                  <div *ngIf="showSheleton" class="card-content skeleton">

                    <div class="row">
                      <div class="col-md-12">
                        <!-- margin-bottom: 12px; float: left; -->
                        <div class="languages-header-title" style="margin-bottom: 15px;"> </div>

                        <div class="row" style="padding-bottom: 16px;">
                          <div class="col-md-12">
                            <div class="section-subtitle" style="border-top: 1px solid #e8f0f5; padding-top: 15px;">
                            </div>
                          </div>
                        </div>

                        <div *ngFor="let fake of generateFake(10)">
                          <div class="row">
                            <div class="col-md-4">
                              <h3> </h3>
                            </div>
                            <div class="col-md-5">
                              <textarea class="textarea ml__label_value" rows="2"></textarea>
                            </div>

                          </div>
                        </div>

                      </div>
                    </div>
                  </div>


                  <!-- -------------------------------------------------------------- -->
                  <!-- @ Real -->
                  <!-- -------------------------------------------------------------- -->
                  <div *ngIf="!showSheleton" class="card-content">

                    <div class="row">
                      <div class="col-md-12">

                        <div class="languages-header" style="display: flex;align-items: center;justify-content: space-between; padding-bottom: 15px;">

                          <div class="languages-header-title-wpr">
                            <div class="languages-header-title" style="font-size: 16px;">

                              <span *ngIf="selectedTranslationCode !== 'add'" style="display:block;">
                                {{ selectedTranslationLabel }}
                                <!-- <span class="card-beta-lang-badge" *ngIf="selectedTranslationLabel === 'Azerbaijani'">beta </span> -->
                              </span>
                              <span *ngIf="selectedTranslationCode === 'add'" style="display:block;">
                                {{ 'Add' | translate }}
                              </span>

                            </div>
                          </div>


                          <!-- -------------------------------------------------------------- -->
                          <!-- @ Delete translation -->
                          <!-- -------------------------------------------------------------- -->
                          <div class="languages-header-actions"> 
        
                            <span *ngIf="selectedTranslationCode == 'add'" class="span-40"></span>
                            
                            <button *ngIf="selectedTranslationCode !== 'add' && selectedTranslationCode !== defaultLangCode"
                              class="btn btn-red btn_delete_lang float-end" style="margin-top: 2px; margin-bottom: 1px;"
                              (click)="presentSwalModalDeleteLanguage()">
                              {{ 'Delete' | translate }}
                            </button>

                            <!-- -------------------------------------------------------------- -->
                            <!-- @ Save modified translation -->
                            <!-- -------------------------------------------------------------- -->
                            <button *ngIf="selectedTranslationCode !== 'add'"
                              class="btn  btn-tdblu-no-boxshadow btn_edit_lang float-end"
                              style="margin-top: 2px; margin-bottom: 1px;" (click)="editLang()"
                              [disabled]="currentTraslationClone === undefined">
                              {{ 'ScriptPage.Save' | translate }}
                            </button>

                            <!-- -------------------------------------------------------------- -->
                            <!-- @ Make default language -->
                            <!-- -------------------------------------------------------------- -->
                            <button *ngIf="selectedTranslationCode !== 'add' && selectedTranslationCode !== defaultLangCode"
                              class="btn btn-tdblu-no-boxshadow btn-make-default float-end"
                              style="margin-top: 2px; margin-bottom: 1px;"
                              (click)="makeDefaultLanguage(selectedTranslationCode)">
                              {{ 'MakeDefault' | translate }}
                            </button>
                          </div>
                        </div>

                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="section-subtitle" style="border-top: 1px solid #e8f0f5;  padding-top: 15px;">
                        </div>
                      </div>
                    </div>


                    <!-- ----------------------------------------------------------------------------- -->
                    <!-- @ For -->
                    <!-- ----------------------------------------------------------------------------- -->
                    <section *ngIf="selectedTranslationCode !== 'add' && selected_translation">

                      <span *ngFor="let item of selected_translation">
                        <div class="row" style="padding-bottom: 16px;">
                          <div class="col-md-4">
                            <span class="ml__label_name">
                              {{ item?.labelName }}
                            </span>
                          </div>

                          <div class="col-md-5">
                            <textarea class="textarea ml__label_value" [(ngModel)]=" item.labelValue"
                              (ngModelChange)="onChangeTranslation($event, item?.labelName)"
                              rows="2">{{ item?.labelValue }}</textarea>
                          </div>
                        </div>
                      </span>
                    </section>


                    <!-- ----------------------------------------------------------------------------- -->
                    <!-- @ Select language combo-box -->
                    <!-- ----------------------------------------------------------------------------- -->
                    <section id="selected-lang" *ngIf="selectedTranslationCode === 'add'">
                      <div class="row" style="padding-bottom: 25px;">
                        <div class="col-md-4">

                          <div class="language_option-select-wpr" style="font-size: 14px;"> 
                            <ng-select id="language_option" style="margin-top: 11px;" [clearable]="true"
                              [(ngModel)]="selectedLang" 
                              [items]="languages" 
                              bindLabel="name" 
                              groupBy="type"
                              placeholder="{{ 'ChooseALanguage' | translate }}" 
                              (clear)="onClearSelectedLanguage()"
                              (change)="onSelectlang(selectedLang)" 
                              (focus)="onFocusSelectLang()">
                            </ng-select>
                          </div>

                        </div>


                        <!-- ----------------------------------------------------------------------------- -->
                        <!-- @ Add language -->
                        <!-- ----------------------------------------------------------------------------- -->
                        <div class="col-md-5">
                          <button id="add-language-btn" class="btn btn-tdblu-no-boxshadow"
                            style="padding-top: 10px; padding-bottom: 10px;" (click)="addNewLanguage()"
                            [disabled]="disableAddBtn">
                            {{ 'Add' | translate }}
                          </button>

                        </div>
                      </div>

                    </section>
                  </div>

                  <div *ngIf="selectedTranslationCode !== 'add'" class="languages-footer" style="border-top: 1px solid #eeeeee; margin: 10px 20px 0px;display: flex;align-items: center;">
            
                    <button [disabled]="currentTraslationClone === undefined"
                      class="btn  btn-tdblu-no-boxshadow btn_edit_lang" (click)="editLang()">
                      {{ 'ScriptPage.Save' | translate }}
                    </button>
     
                    <button *ngIf="selectedTranslationCode !== defaultLangCode" class="btn btn-red btn_delete_lang"
                      (click)="deleteLang()">
                      {{ 'Delete' | translate }}
                    </button>
                  </div>

                </div>
              </div>
            </div>
          </ng-container>

          <ng-template #unauthorizedTpl>
            <unauthorized-for-settings></unauthorized-for-settings>
          </ng-template>

        </ng-container>
      </div>
    </div>
  </div>
</div>