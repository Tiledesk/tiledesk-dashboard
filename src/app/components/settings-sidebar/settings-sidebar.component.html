<!-- [ngStyle]="{'height': sidebar_settings_height}" -->

<div class="toggle-setting-sidebar-icon-wpr" [ngClass]="{'is_opened': IS_OPEN, 'is_closed':!IS_OPEN  }"
  (click)="toggleSettingsSidebar(IS_OPEN = !IS_OPEN)">
  <span *ngIf="IS_OPEN" class="material-icons toggle-setting-sidebar-icon">
    chevron_left
  </span>
  <span *ngIf="!IS_OPEN" class="material-icons toggle-setting-sidebar-icon">
    chevron_right
  </span>
</div>

<div *ngIf="project" class="settings-sidebar-wpr"
  [ngClass]="{'settings-sidebar-wpr-opened': IS_OPEN, 'settings-sidebar-wpr-closed': !IS_OPEN }">

  <ul class="settings-sidebar">

    <!-- -------------------------------------------------------- -->
    <!--  Widget  -->
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': WIDGET_SETUP_ROUTE_IS_ACTIVE}" 
          (click)="goToWidgetSetUp()"
          matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
          matTooltip="Widget" 
          #tooltip="matTooltip"
          matTooltipPosition='right'
          matTooltipHideDelay="100" 
          [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">chat_bubble</i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            Widget
          </p>
        </a>
      </li>
    </ng-container>

    <!-- -------------------------------------------------------- -->
    <!-- Widget installation -->
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': WIDGET_INSTALLATION_ROUTE_IS_ACTIVE}" (click)="goToWidgetInstallation()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip="{{'Installation' | translate}}" 
        #tooltip="matTooltip"
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor"  [ngStyle]="{'padding-left':IS_OPEN === true  ? '20px' : '0px' }">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">code</i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{'Installation' | translate}}
          </p>
        </a>
      </li>
    </ng-container>

     <!-- -------------------------------------------------------- -->
    <!-- Widget API test page  -->
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': TRANSLATIONS_ROUTE_IS_ACTIVE}" (click)="goToMultilanguage()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip="{{translations}}" 
        #tooltip="matTooltip"
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor"  [ngStyle]="{'padding-left':IS_OPEN === true  ? '20px' : '0px' }">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">language</i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{'Translations' | translate}}
          </p>
        </a>
      </li>
    </ng-container>

    <!-- ------------------------------------------------------- -->
    <!-- Routing & depts -->
    <!-- ------------------------------------------------------- -->
    <ng-container *ngIf="USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': DEPTS_ROUTE_IS_ACTIVE  || EDIT_DEPT_ROUTE_IS_ACTIVE || ADD_DEPT_ROUTE_IS_ACTIVE}" (click)="goToDepartments()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar"
        matTooltip="{{routing_and_depts_lbl}}"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">
            account_balance
          </i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            <span *ngIf="isVisibleDEP"> {{'RoutingAndDepts' | translate}} </span>
            <span *ngIf="!isVisibleDEP"> {{'Routing' | translate}} </span>

          </p>
        </a>
      </li>
    </ng-container>

    <!-- ------------------------------------------------------- -->
    <!-- Teammates & Groups || EDIT_GROUP_ROUTE_IS_ACTIVE -->
    <!-- ------------------------------------------------------- -->
    <ng-container *ngIf="USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': TEAMMATES_ROUTE_IS_ACTIVE || GROUPS_ROUTE_IS_ACTIVE || EDIT_GROUP_ROUTE_IS_ACTIVE || ADD_GROUP_ROUTE_IS_ACTIVE}" (click)="goToTeammates()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip="{{ teammatates_and_groups_lbl }}"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false"
            class="material-icons settings-sidebar-icons">
            supervisor_account
          </i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            <span *ngIf="isVisibleGRO">
              {{ 'UsersAndGroups' | translate }}
            </span>
            <span *ngIf="!isVisibleGRO">
              <span style="text-transform: capitalize;"> {{ 'Teammates' | translate }} </span>
            </span>
          </p>
        </a>
      </li>
    </ng-container>


    <!-- ------------------------------------------------------- -->
    <!-- EMAIL-TICKETING -->
    <!-- ------------------------------------------------------- -->
    <ng-container *ngIf="USER_ROLE !== 'agent' && isVisibleETK">
      <li [ngClass]="{'active-item': EMAIL_TICKETING_ROUTE_IS_ACTIVE}" 
        (click)="goToEmailTicketing()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar"
        matTooltip="{{'EmailTicketing' | translate}}" 
        #tooltip="matTooltip" 
        matTooltipPosition='right'
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">
            email
          </i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{'EmailTicketing' | translate}}
          </p>
        </a>
      </li>
    </ng-container>

    <!-- ------------------------------------------------------- -->
    <!-- Canned responses -->
    <!-- ------------------------------------------------------- -->
    <ng-container *ngIf="isVisibleCAR && USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': CANNED_RESPONSES_ROUTE_IS_ACTIVE}" 
        (click)="goToCannedResponses()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar"
        matTooltip="{{'CannedResponses.CannedResponses' | translate}}" 
        #tooltip="matTooltip" 
        matTooltipPosition='right'
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">
            quickreply
          </i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{'CannedResponses.CannedResponses' | translate}}
          </p>
        </a>
      </li>
    </ng-container>

    <!-- -------------------------------------------------------------  -->
    <!-- Tags (menu item name 'Labels' then renamend tags 26gen21)  -->
    <!-- ------------------------------------------------------------- -->
    <ng-container *ngIf="isVisibleLBS && USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': TAG_ROUTE_IS_ACTIVE}" 
        (click)="goToTags()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip=" {{'Tags.ConversationsTAG' | translate}}"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100"
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">local_offer</i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{'Tags.Tags' | translate}}
          </p>
        </a>
      </li>
    </ng-container>



    <!-- -------------------------------------------------------- -->
    <!--  Operatin Hours  -->
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="isVisibleOPH && USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': OPERATING_HOURS_ROUTE_IS_ACTIVE}"
       (click)="goToOperatingHours()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip="{{ 'Hours' | translate }}"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">watch_later</i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{ 'Hours' | translate }}
          </p>
        </a>
      </li>
    </ng-container>


    <!-- -------------------------------------------------------- -->
    <!--  Automation log  -->
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="isVisibleAUT && USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': AUTOMATIONS_ROUTE_IS_ACTIVE}" 
        (click)="goToAutomations()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip="Automations"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">hdr_auto</i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{ 'AutomationsLog' | translate }}
          </p>
        </a>
      </li>
    </ng-container>


    <!-- -------------------------------------------------------- -->
    <!--  Knowledge Bases  -->
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="isVisibleKNB && USER_ROLE !== 'agent' && ARE_NEW_KB === false">
      <li [ngClass]="{'active-item': KNOWLEDGE_BASES_ROUTE_IS_ACTIVE}" 
        (click)="goToKnowledgeBases()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip="{{ 'KnowledgeBases' | translate }}"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">
            school
          </i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{ 'KnowledgeBases' | translate }}
            <span class="kb-beta-badge">Beta</span>
          </p>
        </a>
      </li>
    </ng-container>

    <!-- -------------------------------------------------------- -->
    <!--  Integrations  --> 
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="isVisibleINT && USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': INTEGRATIONS_ROUTE_IS_ACTIVE}" 
        (click)="goToIntegrations()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" 
        matTooltip="Integrations"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a  class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false" class="material-icons settings-sidebar-icons">
            apps
          </i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{'Integrations' | translate}}
          </p>
        </a>
      </li>
    </ng-container>


    <!-- -------------------------------------------------------- -->
    <!--  Project Settings  -->
    <!-- -------------------------------------------------------- -->
    <ng-container *ngIf="USER_ROLE !== 'agent'">
      <li [ngClass]="{'active-item': PROJECT_SETTINGS_ROUTE_IS_ACTIVE}" (click)="goToProjectSettings()"
        matTooltipClass="custom-mat-tooltip-in-settings-sidebar" matTooltip="{{ 'ProjectSettings' | translate }}"
        #tooltip="matTooltip" 
        matTooltipPosition='right' 
        matTooltipHideDelay="100" 
        [matTooltipDisabled]="IS_OPEN">
        <a class="settings-sidebar-anchor">
          <i *ngIf="IS_OPEN === true || IS_OPEN === false"
            class="material-icons settings-sidebar-icons">construction</i>
          <p *ngIf="IS_OPEN === true" class="custom_paragraph">
            {{ 'ProjectSettings' | translate }}
          </p>
        </a>
      </li>
    </ng-container>
  </ul>
  

</div>