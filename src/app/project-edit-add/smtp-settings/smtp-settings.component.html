

<!-- <span #navbarbrand class="navbar-brand navbar-brand-sidebar-settings"
  [ngStyle]="{'margin-top':isChromeVerGreaterThan100 === true ? '-64px' : '6px' }"
  [ngClass]="{'is_opened':IS_OPEN_SETTINGS_SIDEBAR, 'is_closed':!IS_OPEN_SETTINGS_SIDEBAR }">

  <i class="material-icons">settings</i>
  <span *ngIf="IS_OPEN_SETTINGS_SIDEBAR">{{ 'Settings' | translate }} </span>
</span> -->

<div class="main-content" style="padding-top:0px; padding-left: 5px;padding-right: 5px;">

  <div class="page-title--sidebar-settings" style="top: 19px;"
    [ngClass]="{'page-title--sidebar-settings_opened':IS_OPEN_SETTINGS_SIDEBAR, 'page-title--sidebar-settings_closed':!IS_OPEN_SETTINGS_SIDEBAR }">

    <i class="material-icons" style="vertical-align: middle !important; cursor: pointer;"
      (click)="goBack()">keyboard_arrow_left</i>

    {{ 'ProjectEditPage.SMTPSettings' | translate }}

  </div>

  <div class="container-fluid" style="padding-left: 0px; margin-left: 5px;">
    <div class="content-wpr" style="display: flex;">
      <appdashboard-settings-sidebar> </appdashboard-settings-sidebar>
      <div class="teplate-content" style="flex: 1 1 auto; margin-left: 20px;">
        <div class="row">

          <div class="col-md-12">
            <div class="card card--no-border">
              <!-- <loading-spinner *ngIf="showSpinner"></loading-spinner> -->

              <form>
                <!-- *ngIf="!showSpinner" -->
                <div class="card-content">

                  <!-- --------------------------------------- -->
                  <!-- Host -->
                  <!-- --------------------------------------- -->
                  <div class="row">
                    <label class="col-sm-3  custom-label">
                      {{'ProjectEditPage.HostName' | translate}}
                    </label>
                    <div class="col-12 col-sm-6 col-md-5 col-lg-4">
                      <input name="smtphost" [(ngModel)]="smtp_host_name" class="input" type="text">
                    </div>
                  </div>

                  <!-- --------------------------------------- -->
                  <!-- SMTP Port -->
                  <!-- --------------------------------------- -->
                  <div class="row">
                    <label class="col-sm-3  custom-label">
                      {{ "ProjectEditPage.Port" | translate }}
                    </label>
                    <div class="col-12 col-sm-6 col-md-5 col-lg-4">
                      <input name="smtp_port" [(ngModel)]="smtp_port" class="input" type="text">
                    </div>
                  </div>

                  <!-- --------------------------------------- -->
                  <!-- Sender email Address -->
                  <!-- --------------------------------------- -->
                  <div class="row">
                    <label class="col-sm-3  custom-label">
                      {{ "ProjectEditPage.SenderAddress" | translate }}
                    </label>
                    <div class="col-12 col-sm-6 col-md-5 col-lg-4">
                      <input name="senderaddress" [(ngModel)]="sender_email_address"
                        (ngModelChange)="senderEmailChange($event)" class="input" type="email"
                        [ngClass]="{'invalid-email' : !SENDER_EMAIL_IS_VALID}" style="margin-bottom:3px">
                      <span *ngIf="!SENDER_EMAIL_IS_VALID" style="color: #f44336; font-size: 12px;">
                        {{ "EnterValidEmail" | translate }}
                      </span>
                    </div>
                  </div>

                  <!-- --------------------------------------------------------- -->
                  <!-- SMTP Authentication and security section -->
                  <!-- --------------------------------------------------------- -->
                  <div class="row">
                    <div class="col-md-12 col-12-section-title" style="margin-top: 25px;">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{'ProjectEditPage.SMTPAuthenticationAndSecurity' | translate}}
                        </span>
                        <span class="card_title__gray_underline">
                        </span>
                      </h3>
                    </div>
                  </div>

                  <!-- --------------------------------------- -->
                  <!-- SMTP User name -->
                  <!-- --------------------------------------- -->
                  <div class="row">
                    <label class="col-sm-3  custom-label">
                      {{ "ProjectEditPage.UserName" | translate }}
                    </label>
                    <div class="col-12 col-sm-6 col-md-5 col-lg-4">
                      <input name="smtpemail" [(ngModel)]="smtp_usermame" class="input" type="text">

                    </div>
                  </div>

                  <!-- --------------------------------------- -->
                  <!-- SMTP PSWD -->
                  <!-- --------------------------------------- -->
                  <div class="row">
                    <label class="col-sm-3  custom-label">
                      Password
                    </label>
                    <div class="col-12 col-sm-6 col-md-5 col-lg-4">
                      <!-- <input name="smtpswd" [(ngModel)]="smtp_pswd" class="input" type="password"
                    autocomplete="new-password"> -->

                      <div class="input--group" style="display: flex;">
                        <input [(ngModel)]="smtp_pswd" class="input" [type]="showPswd ? 'text' : 'password'"
                          name="smtpswd" style="border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-right: unset !important;"
                          autocomplete="new-password">
                        <span class="input-group-btn" style="padding-right: 0px;padding-left: 0px;">
                          <button id="smtp-show-password-btn" class="btn btn-primary show-password-btn" (click)="showPassword()">
                            <span *ngIf="!showPswd" class="material-icons">
                              visibility_off
                            </span>
                            <span *ngIf="showPswd" class="material-icons">
                              visibility
                            </span>
                          </button>
                        </span>
                      </div>

                    </div>
                  </div>


                  <!-- --------------------------------------- -->
                  <!-- SMTP Connection security -->
                  <!-- --------------------------------------- -->
                  <div class="row">
                    <label class="col-sm-3  custom-label" style="padding-top: 9px !important;">
                      {{ 'ProjectEditPage.ConnectionSecurity' | translate}}
                    </label>
                    <div class="col-12 col-sm-6 col-md-5 col-lg-4">
                      <div class="checkbox">
                        <label>
                          <input [(ngModel)]="smtp_connetion_security" type="checkbox" name="connectionSecurity">

                        </label>
                      </div>
                    </div>
                  </div>
                </div> <!-- ./ card-content-->


                <div class="row"
                  style="border-top:1px solid  #ddd !important;width: calc((100% / 3) + 360px); margin-left:18px">
                  <div class="col-6" style=" padding-left:0px">
                    <!-- btn-primary send-smtp-test-email -->
                    <button class="btn btn-outlined" (click)="sendSMTPTestEmail()">
                      <span class="material-icons">
                        play_arrow
                      </span>
                      {{ "ProjectEditPage.SendSMPTTestEmail" | translate }}
                    </button>
                  </div>
                  <div class="col-6" style="text-align: right; padding-right:0px">
               
                    <!-- <button type="submit" class="btn btn-gray-no-boxshadow"
                      (click)="resetToDefaultSMTPConfiguration()" style="margin-right: 8px;">
                      {{ "ResetToDefaults" | translate }}
                    </button> -->

                    <!-- btn-primary update-smtp-configuration -->
                    <button type="submit" class="btn btn-tdblu-no-boxshadow update-smtp-configuration pull-right"
                      (click)="updateSMTPConfiguration()" 
                      [disabled]="!smtp_host_name || !smtp_host_name || !smtp_port">
                      {{ "Update" | translate }}
                    </button>
                  </div>
                </div>

              </form>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>