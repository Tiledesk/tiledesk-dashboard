<span class="navbar-brand navbar-brand-sidebar-settings"
  [ngStyle]="{'margin-top':isChromeVerGreaterThan100 === true ? '-64px' : '6px' }"
  [ngClass]="{'is_opened':IS_OPEN_SETTINGS_SIDEBAR, 'is_closed':!IS_OPEN_SETTINGS_SIDEBAR }">
  <!-- <i class="material-icons" style="vertical-align: middle !important; cursor: pointer;"
    (click)="goBack()">keyboard_arrow_left</i> -->
  <!-- {{ "ProjectEditPage.ProjectSettings" | translate }} -->
  <!-- {{ "ProjectSettings" | translate }} -->

  <i class="material-icons">settings</i>

  <span *ngIf="IS_OPEN_SETTINGS_SIDEBAR">{{ 'Settings' | translate }} </span>
</span>



<div class="main-content" style="padding-top:0px; padding-left: 5px;padding-right: 5px;">

   
    <div class="page-title--sidebar-settings"
        [ngClass]="{'page-title--sidebar-settings_opened':IS_OPEN_SETTINGS_SIDEBAR, 'page-title--sidebar-settings_closed':!IS_OPEN_SETTINGS_SIDEBAR }">
        {{ 'ProjectSettings' | translate }}
    </div>
  <div class="container-fluid" style="padding-left: 5px;padding-right: 5px;">
    <ng-container *ngIf="isVisiblePaymentTab">
      <div *ngIf="prjct_profile_type === 'payment' && subscription_is_active === false" class="row">
        <div class="col-sm-12">
          <div class="payment--problem-wpr">
            <div class="payment--problem-text">
              {{ "Pricing.WeWereUnableToAutomaticallyRenewYourSubscription" | translate }}.
              {{ "Pricing.PleaseContactUs" | translate }}
              {{ "Pricing.ToUpdateYourPaymentInformation" | translate }}.
              <!-- <span style="display: block;" *ngIf="projectUsersLength + countOfPendingInvites > PLAN_SEATS.free">
                {{'NumberOfTeammatesExceedsThePlan' | translate: tParamsFreePlanSeatsNum}}
              </span> -->
              <div class="contact--us-btn-wpr" style="text-align: center;">
                <button class="contact--us-btn" (click)="contactUs()">
                  {{'ContactUs' | translate}}
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>

    <!-- <div *ngIf="(((prjct_profile_type === 'payment' && subscription_is_active === true) ||
    (prjct_profile_type === 'free' && prjct_trial_expired === false) || 
    (prjct_profile_type === 'free' && prjct_trial_expired === true))  &&
    (projectUsersLength + countOfPendingInvites > seatsLimit))" class="row">
      <div class="col-sm-12">
        <div class="payment--problem-wpr">
          <div class="payment--problem-text">
            <span class="msg-alert">
              {{ 'NumberOfTeammatesExceedsThePlan_2' | translate: tParamsPlanAndSeats }}
            </span>
            <div class="contact--us-btn-wpr" style="text-align: center;">
              <button class="contact--us-btn" (click)="contactUs()">
                {{'ContactUs' | translate}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div> -->


    <div class="content-wpr" style="display: flex;">

      <appdashboard-settings-sidebar> </appdashboard-settings-sidebar>
      
      <div class="teplate-content" style="flex: 1 1 auto; margin-left: 20px;">
        <div class="row">
          <div class="col-xs-12">
            <ul class="bottom-nav" style="top:-9px; box-shadow: unset">
              <li (click)="goToProjectSettings_General()" class="btn-with-border-effect"
                [ngClass]="{ 'li-active' : PROJECT_SETTINGS_ROUTE === true, 'border-from-center': PROJECT_SETTINGS_ROUTE === false}">
                <a> {{ "General" | translate }} </a>
              </li>

              <li *ngIf="isVisiblePaymentTab" (click)="goToProjectSettings_Payments()" class="btn-with-border-effect"
                [ngClass]="{ 'li-active' : PROJECT_SETTINGS_PAYMENTS_ROUTE === true, 'border-from-center': PROJECT_SETTINGS_PAYMENTS_ROUTE === false}">
                <a> {{ "ProjectEditPage.Subscription" | translate }}</a>
              </li>

              <li *ngIf="isVisibleDeveloperTab" (click)="goToProjectSettings_Auth()" class="btn-with-border-effect"
                [ngClass]="{ 'li-active' : PROJECT_SETTINGS_AUTH_ROUTE === true, 'border-from-center': PROJECT_SETTINGS_AUTH_ROUTE === false }">
                <a> {{ "ProjectEditPage.Authentication" | translate }}</a>
              </li>


              <li *ngIf="isVisibleSmartAssignmentTab && USER_ROLE !== 'agent'" (click)="goToProjectSettings_SmartAssignment()"
                class="btn-with-border-effect"
                [ngClass]="{ 'li-active' : PROJECT_SETTINGS_SMARTASSIGNMENT_ROUTE === true, 'border-from-center': PROJECT_SETTINGS_SMARTASSIGNMENT_ROUTE === false }">
                <a> {{ "SmartAssign" | translate }}</a>
              </li>

              <li *ngIf="isVisibleNotificationTab" (click)="goToProjectSettings_Notification()"
                class="btn-with-border-effect"
                [ngClass]="{'li-active': PROJECT_SETTINGS_NOTIFICATION_ROUTE, 'border-from-center': PROJECT_SETTINGS_NOTIFICATION_ROUTE === false }">
                <a> {{ "Notification" | translate }}</a>
              </li>

              <li *ngIf="isVisibleSecurityTab" (click)="goToProjectSettings_Security()" class="btn-with-border-effect"
                [ngClass]="{'li-active': PROJECT_SETTINGS_SECURITY_ROUTE, 'border-from-center': PROJECT_SETTINGS_SECURITY_ROUTE === false }">
                <a> {{ "ProjectEditPage.Security.Security" | translate }}</a>


              </li>

              <li *ngIf="isVisibleBannedVisitor" (click)="goToProjectSettings_BannedVisitors()" class="btn-with-border-effect"
                [ngClass]="{'li-active': PROJECT_SETTINGS_BANNED_VISITORS_ROUTE, 'border-from-center': PROJECT_SETTINGS_BANNED_VISITORS_ROUTE === false }">
                <a> {{'BannedVisitors' | translate }} </a>
              </li>

              <li (click)="goToProjectSettings_Advanced()" class="btn-with-border-effect"
                [ngClass]="{'li-active': PROJECT_SETTINGS_ADVANCED_ROUTE, 'border-from-center': PROJECT_SETTINGS_ADVANCED_ROUTE === false }">
                <a> {{'ProjectEditPage.Advanced' | translate }} </a>
              </li>

            </ul>
          </div>
        </div>

        <!-- <div *ngIf="PROJECT_SETTINGS_ADVANCED_ROUTE && hideHelpLink" class="row link-to-automatic-assignment-doc-wpr"> -->
        <div *ngIf="PROJECT_SETTINGS_SMARTASSIGNMENT_ROUTE && hideHelpLink" class="row link-to-automatic-assignment-doc-wpr">
          <div class="col-xs-12 link-to-automatic-assignment-doc">
            <div class="link-to-doc-icon-wpr">
                <svg  aria-hidden="true" focusable="false"
                  data-prefix="fab" data-icon="readme" class="svg-inline--fa fa-readme fa-w-18" role="img"
                  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                  <path fill="#0f62ff"
                    d="M528.3 46.5H388.5c-48.1 0-89.9 33.3-100.4 80.3-10.6-47-52.3-80.3-100.4-80.3H48c-26.5 0-48 21.5-48 48v245.8c0 26.5 21.5 48 48 48h89.7c102.2 0 132.7 24.4 147.3 75 .7 2.8 5.2 2.8 6 0 14.7-50.6 45.2-75 147.3-75H528c26.5 0 48-21.5 48-48V94.6c0-26.4-21.3-47.9-47.7-48.1zM242 311.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5V289c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V251zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H78.2c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm259.3 121.7c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.9c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5V228c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5v22.9zm0-60.9c0 1.9-1.5 3.5-3.5 3.5H337.5c-1.9 0-3.5-1.5-3.5-3.5v-22.8c0-1.9 1.5-3.5 3.5-3.5h160.4c1.9 0 3.5 1.5 3.5 3.5V190z">
                  </path>
                </svg>
              
              <span class="project-edit-add-link-to-doc" (click)="goToKBDocsSettingUpAutomaticAssignment()">
                {{'SettingUpAutomaticAssignment' | translate}}
              </span>
              <!-- profile_name !== PLAN_NAME?.C  -->
              <!-- isTier3Plans  {{isTier3Plans}} -->
              <span *ngIf="!isTier3Plans" class="c-plan--only--badge">
                {{'OnlyWithPlan'| translate: tParamsFeatureAvailableWith}}
              </span>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <!-- min-height: 518px -->
            <div class="card card--no-border" style="min-height: 425px; margin-top: 0px;">
              <loading-spinner *ngIf="showSpinner"></loading-spinner>

              <div *ngIf="!showSpinner" class="card-content">
                <!-- ---------------------------------------------- -->
                <!-- General Tab -->
                <!-- ---------------------------------------------- -->
                <span *ngIf="PROJECT_SETTINGS_ROUTE">

                  <div class="row">
                    <div class="col-md-12">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{ "ProjectEditPage.YourProject" | translate }}
                        </span>
                      </h3>
                    </div>
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                    </div>
                  </div>

                  <div class="input-wrapper" style="max-width: 992px;">
                    <div class="row">
                      <label class="col-sm-2 custom-label">
                        {{ "ProjectEditPage.ProjectName" | translate }}
                      </label>
                      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <div class="input-group">
                          <input [(ngModel)]="projectName_toUpdate" (ngModelChange)="onProjectNameChange($event)"
                            class="input" type="text" placeholder="Nome Progetto"
                            style="border-top-right-radius: 0px; border-bottom-right-radius: 0px">
                          <span class="input-group-btn" style="padding-right: 0px;padding-left: 0px;">
                            <button id="update-project-name" class="btn btn-primary" (click)="edit()"
                              [disabled]="DISABLE_UPDATE_BTN === true"
                              style="padding-bottom: 9px; margin-bottom: 9px; padding-top: 10px; border-top-right-radius: 5px; border-bottom-right-radius: 5px">
                              {{ "ProjectEditPage.Update" | translate }}
                            </button>
                          </span>
                        </div>
                        <span *ngIf="projectName_toUpdate?.length > 0 && projectName_toUpdate?.length < 4"
                          style="padding-left: 5px; font-size: 0.9em; color:#da491c">
                          {{ 'ProjectsPage.ModalMustBeAtLeast' | translate }}
                        </span>
                      </div>
                    </div>

                    <div class="row">
                      <label class="col-sm-2 custom-label">
                        {{ "ProjectEditPage.ProjectId" | translate }}
                      </label>
                      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <input style="color:#999999" [(ngModel)]="id_project" class="input" type="text" disabled>
                      </div>
                    </div>
                  </div>

                  <!-- ------------------------------------ -->
                  <!-- Display Support Widget in project -->
                  <!-- ------------------------------------ -->
                  <!-- <div class="row" style="margin-top: 44px;margin-bottom: 24px ">
                    <div class="col-md-6">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          Display support widget in project
                        </span>
                      </h3>
                    </div>

                    <!- - SWITCH BUTTON - ->
                    <div class="col-md-6">
                      <h3 class="card-title onoffswitch_container_first_line">

                        <div class="onoffswitch">
                          <input (change)="toggleSupportWidgetVisibility($event)"
                            [checked]="displaySupportWidget === true" type="checkbox" name="display_support_widget_onoffswitch"
                            class="onoffswitch-checkbox" id="display_support_widget_onoffswitch">
                          <label class="onoffswitch-label" for="display_support_widget_onoffswitch">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                          </label>
                        </div>
                      </h3>
                    </div>

                    <!- - SUBTITLE - ->
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"></div>
                      <p style="margin-top: -10px;">
                        Hide / Display the support widget in the project</p>
                    </div>
                  </div>  -->


                  <!-- --------------------------- -->
                  <!-- Delete ptoject -->
                  <!-- --------------------------- -->
                  <div *ngIf="displayExtremeMeasures" class="row">
                    <div class="col-md-12">
                      <h3 class="card_title__underlined" style="margin-top: 30px;">
                        <span class="card_title__underline">
                          {{ "ExtremeMeasures" | translate }}
                        </span>
                      </h3>
                    </div>
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                    </div>
                  </div>

                  <div *ngIf="displayExtremeMeasures" class="row">
                    <div class="col-md-12">
                      <button id="delete-project-btn" class="btn btn-danger" style="margin-top:0px"
                        (click)="openDeleteModal()">
                        <i class="material-icons" style="vertical-align: middle">delete_forever</i>
                        {{ "ProjectEditPage.DeleteProject" | translate }}
                      </button>
                    </div>
                  </div>

                </span>

                <!-- /. PROJECT_SETTINGS_ROUTE -->

                <!-- -------------------------------------------------------- -->
                <!-- Payments (i.e. Subscription) -->
                <!-- -------------------------------------------------------- -->
                <span *ngIf="PROJECT_SETTINGS_PAYMENTS_ROUTE">

                  <div class="row">
                    <div class="col-md-12">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          <!-- {{ "ProjectEditPage.Your" | translate }} {{ "ProjectEditPage.ProjectPlan" | translate }} -->
                          {{ "ProjectEditPage.YourPlan" | translate }}
                        </span>
                      </h3>
                    </div>
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                    </div>
                  </div> <!-- ./end row-->

                  <div class="input-wrapper" style="max-width: 992px;">
                    <div class="row">
                      <label class="col-sm-3 custom-label">
                        {{ 'YourCurrentPlan' | translate }}
                      </label>
                      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <!-- ------------------------------------------------------------------- -->
                        <!-- YOUR CURRENT PLAN: PAYMENT  -->
                        <!-- ------------------------------------------------------------------- -->
                        <span *ngIf="prjct_profile_type === 'payment'">
                          <span class="payment-plan-name">

                            <span style="font-weight: 400">
                              <span style="text-transform: capitalize">{{ prjct_profile_name }} </span>
                            

                              <span *ngIf="!appSumoProfile">
                                <!-- <span *ngIf="profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F"> -->
                                  ( {{ seatsLimit}} {{ "AgentSeats" | translate }} )
                                  <!-- <span *ngIf="!isSripeSub"> 
                                    )
                                  </span>
                                  <span *ngIf="isSripeSub" > 
                                    x € {{ plan_amount / 100 }} .00 / {{ plan_interval | translate}} )
                                  </span> -->
                                <!-- </span> -->
                              </span>


                              <!-- <span *ngIf="profile_name === PLAN_NAME?.C">
                                ( {{ seatsLimit}} {{ "AgentSeats" | translate }} )
                              </span> -->
                            </span>
                          </span>
                        </span>

                        <!-- ------------------------------------------------------------------- -->
                        <!-- YOUR CURRENT PLAN: FREE  -->
                        <!-- ------------------------------------------------------------------- -->
                        <span *ngIf="prjct_profile_type === 'free'">

                          <span class="payment-plan-name">
                            <!-- {{ 'YourCurrentPlan' | translate }}: -->

                            <span style="font-weight: 400">
                              <span style="text-transform: capitalize" (click)="goToPricing()">{{ prjct_profile_name }}
                              </span>

                              <!-- - {{ projectUsersLength }} -->
                              - ( {{ seatsLimit }}  {{ "AgentSeats" | translate }} x € 0.00 )
                              <!-- <span *ngIf="projectUsersLength === 1">
                                {{ "Agent" | translate }}
                              </span>
                              <span *ngIf="projectUsersLength > 1">
                                {{ "Agents" | translate }}
                              </span> -->

                              <!-- <span *ngIf="countOfPendingInvites > 0">
                                {{ 'And' | translate }} {{countOfPendingInvites }}
                                <span *ngIf="countOfPendingInvites === 1">
                                  {{ 'PendingInvitation' | translate }}
                                </span>
                                <span *ngIf="countOfPendingInvites > 1">
                                  {{ 'PendingInvitations' | translate }}
                                </span>
                              </span> -->

                              <!-- / {{'PerMonth' | translate }} -->
                            </span>
                          </span>
                        </span>
                      </div>

                    </div>

                    <!-- ------------------------------------------------- -->
                    <!-- SUBSCRIPTION STATUS Label -->
                    <!-- ------------------------------------------------- -->
                    <div class="row flex--row" style="margin-top: 16px;">
                      <!-- [ngStyle]="{'padding-top':  (browser_lang === 'en' ) ? '15px' : '' }" -->
                      <label class="col-sm-3 custom-label" style="height: 46px; padding-top: 15px">
                        {{ "SubscriptionStatus" | translate }}
                      </label>
                      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <!-- -------------------------------------------------------------------------------- -->
                        <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - SUBSCRIPTION ACTIVE  -->
                        <!-- -------------------------------------------------------------------------------- -->
                        <!-- SUBSCRIPTION_BUFFER_DAYS {{SUBSCRIPTION_BUFFER_DAYS}} - subscription_is_active {{ subscription_is_active }} -->
                        <span class="subscription-status" style="font-weight: 400;">
                          <span style="display: flex;"
                            *ngIf="prjct_profile_type === 'payment' && subscription_is_active === true">
                            <i *ngIf="!SUBSCRIPTION_BUFFER_DAYS" class="material-icons"
                              style="color:#4caf50; vertical-align: middle; padding-right: 8px">
                              check_circle
                            </i>
                            <i *ngIf="SUBSCRIPTION_BUFFER_DAYS" class="material-icons"
                              style="color:#f44336; vertical-align: middle; padding-right: 8px">
                              error_outline
                            </i>

                            <ng-container *ngIf="!appSumoProfile">
                              <span *ngIf="!SUBSCRIPTION_BUFFER_DAYS">
                                <span *ngIf="profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F">
                                  {{ "Pricing.YourSubscriptionIsActive" | translate }}.
                                </span>
                                <span *ngIf="profile_name === PLAN_NAME?.C || profile_name === PLAN_NAME?.F">
                                  {{ "Pricing.ThePlanIsActive" | translate }}.
                                </span>

                                <span *ngIf="profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F">
                                  {{ "NextRenew" | translate }}
                                  <span *ngIf="days_to_next_renew === 0">
                                    {{ "Today" | translate}} {{ "At" | translate}} {{ timeOfNextRenew }}
                                  </span>
                                  <span *ngIf="days_to_next_renew === 1">
                                    {{ "Pricing.Tomorrow" | translate }}
                                  </span>

                                  <span *ngIf="days_to_next_renew > 1">
                                    {{ "In" | translate }} {{days_to_next_renew}} {{ "Pricing.Days" | translate }}
                                  </span>
                                </span>
                              </span>
                            </ng-container>

                            <ng-container *ngIf="appSumoProfile">
                              Lifetime Access to {{appSumoProfile}}
                            </ng-container>



                            <span *ngIf="SUBSCRIPTION_BUFFER_DAYS" style="margin-left:3px">
                              {{ "Pricing.SubscriptionExpired" | translate }} {{ 'On' | translate }}
                              <!-- {{ subscription_end_date | date: 'dd/MM/yyyy' }} - -->
                              {{ subscription_end_date |  amDateFormat: 'LLL' }} -

                              <span style="color: #039be5; cursor:pointer" (click)="openModalSubsExpired()">
                                {{ "Pricing.UpgradePlan" | translate }}
                              </span>
                            </span>
                          </span>

                          <!-- -------------------------------------------------------------------------------- -->
                          <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - SUBSCRIPTION NOT ACTIVE  -->
                          <!-- -------------------------------------------------------------------------------- -->
                          <span style="display: flex;"
                            *ngIf="prjct_profile_type === 'payment' && subscription_is_active === false">
                            <i class="material-icons" style="color:#f44336; vertical-align: middle; padding-right: 8px">
                              error_outline
                            </i>
                            <span style="color:#f44336;">
                              {{ "Pricing.SubscriptionExpired" | translate }} - &nbsp;
                            </span>

                            <span style="color: #039be5; cursor:pointer" (click)="openModalSubsExpired()">
                              {{ "Pricing.UpgradePlan" | translate }}
                            </span>
                          </span>

                          <!-- -------------------------------------------------------------------------------------  -->
                          <!-- SUBSCRIPTION STATUS - PROFILE TYPE:  FREE   -->
                          <!-- -------------------------------------------------------------------------------------  -->
                          <span style="display: flex;" *ngIf="prjct_profile_type !== 'payment'">
                            <i class="material-icons" style="color:#3ea9f5; vertical-align: middle; padding-right: 8px">
                              info
                            </i>
                            <!-- -------------------------------------------------------------------------------------  -->
                            <!-- SUBSCRIPTION STATUS - PROFILE TYPE: FREE + TRIAL NOT EXPIRED  -->
                            <!-- -------------------------------------------------------------------------------------  -->
                            <span *ngIf="prjct_trial_expired === false">
                              {{ "Pricing.Your" | translate }}

                              <span style="font-weight:400">
                                <!-- {{ "Pricing.30DaysFreeTrialOfTiledeskProPlan" | translate: tparams }} -->
                                {{ "Pricing.30DaysFreeTrial" | translate: translationParams }}
                              </span>

                              {{ "Pricing.WillExpireIn" | translate }}

                              <span *ngIf="prjc_trial_days_left < -1">
                                {{ - prjc_trial_days_left }} {{ "Pricing.Days" | translate }}
                              </span>

                              <span *ngIf="prjc_trial_days_left === -1">
                                {{ "Pricing.Tomorrow" | translate }}
                              </span>
                            </span>

                            <!-- -------------------------------------------------------------------------------------  -->
                            <!-- SUBSCRIPTION STATUS - PROFILE TYPE: FREE + TRIAL EXPIRED  -->
                            <!-- -------------------------------------------------------------------------------------  -->
                            <span *ngIf="prjct_trial_expired === true" style="font-weight:400; color: #f44336">
                              {{ "Pricing.Your" | translate }}
                              {{ "Pricing.30DaysFreeTrial" | translate: translationParams }}
                              {{ "Pricing.HasExpired" | translate }}
                            </span>
                          </span>
                        </span>
                      </div>
                    </div>

                    <!-- ------------------------------------------------- -->
                    <!-- TEST GET SUBSCRIPTION -->
                    <!-- ------------------------------------------------- -->
                    <!-- <form method="POST" action="/create-customer-portal-session" (click)="createCustomerPortal()">
                      <button type="submit">Manage billing</button>
                    </form> -->
                    <!-- <button (click)="updateCustomer()">UPDATE CUSTOMER</button> -->

                    <!-- <div class="cc-form-wpr"> -->
                    <!-- <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" novalidate> -->
                    <!-- <input id="cc-number" formControlName="creditCard" name="creditCard" type="tel" ccNumber>
                        <span *ngIf="form.controls.creditCard.value?.length > 0">
                          <div *ngIf="form.controls.creditCard.invalid" class="is-danger" translate>
                            invalid creditCard
                          </div>
                        </span>
                   
                        <input id="cc-exp-date" formControlName="expirationDate" name="expirationDate" type="tel" ccExp>
                      
                        <div *ngIf="formErrors.expirationDate" class="is-danger" translate>
                          {{ formErrors.expirationDate }}
                        </div>
                        <input id="cc-cvc" formControlName="cvc" name="cvc" type="tel" autocomplete="off" ccCvc>
                        <div *ngIf="formErrors.cvc" class="is-danger" translate>
                          {{ formErrors.cvc }}
                        </div> -->

                    <!-- the good before to remove -->
                    <!-- <input id="cc-number" formControlName="creditCard" name="creditCard" type="tel">
                      
                   
                        <input id="cc-exp-date" formControlName="expirationDate" name="expirationDate" type="tel" ccExp>
                      
                     
                        <input id="cc-cvc" formControlName="cvc" name="cvc" type="tel" autocomplete="off" ccCvc>

                        <button type="submit" class="btn signin-button">
                          Submit
                        </button> -->
                    <!-- </form> -->
                    <!-- form value {{form.value | json }}
                      form status: {{ form.status | json }} -->
                    <!-- </div> -->

                    <!-- -------------------------------------------------------------------------------------  -->
                    <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - SUBSCRIPTION CREDIT CARD -->
                    <!-- -------------------------------------------------------------------------------------  -->
                    <ng-container *ngIf="!appSumoProfile && isSripeSub">
                        <!-- prjct_profile_type !== 'free' && profile_name !== PLAN_NAME?.C &&  subscription_is_active === true -->
                      <div class="row flex--row" 
                      
                        *ngIf="prjct_profile_type !== 'free' &&  subscription_is_active === true && profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F"
                        style="margin-top: 16px;">
                        <label class="col-sm-3 custom-label">
                          {{"PaymentInformation" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

                          <span class="subscription-info">

                            <i class="material-icons" style="vertical-align: middle;color: #697386;">
                              credit_card
                            </i>
                            <span
                              style="font-weight: 400;  padding: 5px;height:31px;position: relative;top: 2px; text-transform: capitalize;">

                              {{default_card_brand_name}} &nbsp; **** **** **** {{card_last_four_digits}}
                            </span>

                            <span class="add-more-operator-btn" (click)="openModalAddPaymentMethod()">
                              {{'ChangeCard' | translate}}
                            </span>
                          </span>

                        </div>
                      </div>
                    </ng-container>

                    <!-- -------------------------------------------------------------------------------------------------------  -->
                    <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - SUBSCRIPTION START DATE OR PLAN START DATE IF ENTERPRISE -->
                    <!-- -------------------------------------------------------------------------------------------------------  -->
                    <ng-container *ngIf="!appSumoProfile">
                      <div class="row flex--row" *ngIf="prjct_profile_type !== 'free'" style="margin-top: 16px;">
                        <label class="col-sm-3 custom-label" *ngIf="profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F">
                          {{ "SubscriptionStartDate" | translate }}
                        </label>
                        <label class="col-sm-3 custom-label" *ngIf="profile_name === PLAN_NAME?.C || profile_name === PLAN_NAME?.F">
                          {{ "PlanStartDate" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

                          <span class="subscription-info">
                            <i class="material-icons" style="vertical-align: middle;color: #697386;">
                              flag
                            </i>
                            <span style="font-weight: 400;  padding: 5px;height:31px;position: relative;top: 2px;">

                              <!-- IF THE  subscription_creation_date IS OBTAINED FROM THE SUBSCRIPTION PAYMENT OBJECT -->
                             
                              <!-- <span class="subscription-creation-date" *ngIf="profile_name === PLAN_NAME?.C || profile_name === PLAN_NAME?.F">
                               
                                {{ subscription_creation_date | amDateFormat: 'LL' }}
                              
                              </span> -->
                             <span *ngIf="profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F">
                    
                                <span *ngIf="isSripeSub"> 
                                  <!-- {{ subscription_creation_date }} -->
                                  {{ subscription_creation_date * 1000 | amDateFormat: 'LL' }}
                                </span>
                                <span  *ngIf="!isSripeSub"> 
                                 
                                  {{subscription_creation_date | amDateFormat: 'LL'}}
                                </span> 
                              </span> 
                              <span *ngIf="profile_name === PLAN_NAME?.C || profile_name === PLAN_NAME?.F">
                    
                                <span *ngIf="isSripeSub"> 
                                  {{ subscription_creation_date * 1000 | amDateFormat: 'LL' }}
                                </span>
                                <span  *ngIf="!isSripeSub"> 
                                  {{subscription_creation_date | amDateFormat: 'LL'}}
                                </span> 
                              </span> 
                            </span>
                          </span>

                        </div>
                      </div>
                    </ng-container>

                    <!-- -------------------------------------------------------------------------------------  -->
                    <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - CURRENT INVOICE START DATE -->
                    <!-- -------------------------------------------------------------------------------------  -->
                    <ng-container *ngIf="!appSumoProfile">
                      <!-- prjct_profile_type !== 'free' && profile_name !== PLAN_NAME?.C -->
                      <div class="row flex--row" *ngIf="prjct_profile_type !== 'free' && profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F"
                        style="margin-top: 16px;">
                        <label class="col-sm-3 custom-label">
                          {{ "CurrentInvoiceStartDate" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

                          <span class="subscription-info">
                            <i class="material-icons" style="vertical-align: middle;color: #697386;">
                              calendar_today
                            </i>

                            <span style=" font-weight: 400;  padding: 5px;height:31px;position: relative;top: 2px;">
                              <!-- {{ subscription_start_date | date: 'dd/MM/yyyy' }} -->
                              {{ subscription_start_date | amDateFormat: 'LL' }}

                            </span>
                          </span>
                        </div>
                      </div>
                    </ng-container>

                    <!-- ---------------------------------------------------------------------------------------------------------------  -->
                    <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - CURRENT INVOICE END DATE OR PLAN EXIPIRATION DATE IF ENTERPRISE -->
                    <!-- ---------------------------------------------------------------------------------------------------------------  -->
                    <ng-container *ngIf="!appSumoProfile">
                      <div class="row flex--row" *ngIf="prjct_profile_type !== 'free'" style="margin-top: 16px;">
                        <label class="col-sm-3 custom-label" *ngIf="profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F">
                          {{ "CurrentInvoiceEndDate" | translate }}
                        </label>
                        <label class="col-sm-3 custom-label" *ngIf="profile_name === PLAN_NAME?.C || profile_name === PLAN_NAME?.F">
                          {{ "PlanExpirationDate" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                          <span class="subscription-info">
                            <i class="material-icons" style="vertical-align: middle;color: #697386;">
                              calendar_today
                            </i>
                            <span style="font-weight: 400;  padding: 5px;height:31px;position: relative;top: 2px;">

                              <!-- {{ subscription_end_date | date: 'dd/MM/yyyy' }} -->
                              {{ subscription_end_date | amDateFormat: 'LL' }}

                            </span>
                          </span>
                        </div>
                      </div>
                    </ng-container>

                    <!-- -------------------------------------------------------------------------------------  -->
                    <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - NUMBER OF AGENTS SEATS -->
                    <!-- -------------------------------------------------------------------------------------  -->
                    <ng-container *ngIf="!appSumoProfile">
                      <div class="row flex--row" style="margin-top: 16px;">
                        <label class="col-sm-3 custom-label">
                          <!-- {{ "NumberOfAgentSeats" | translate }} -->
                          {{ "SeatsRedeemed" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                          <span class="subscription-info">
                            <i class="material-icons"
                              [ngStyle]="{'color': countOfPendingInvites + projectUsersLength > seatsLimit ? '#f44336' : '#697386'}"
                              style="vertical-align: middle;">
                              people_alt
                            </i>
                            <span style="font-weight: 400;  padding: 5px;height:31px;position: relative;top: 2px;">
                              <!-- {{ numberOf_agents_seats }} -->
                              {{countOfPendingInvites + projectUsersLength}}
                            </span>
                            <!-- <span class="add-more-operator-btn" (click)="getMoreOperatorsSeats()">
                            {{ "Pricing.AddMoreOperators" | translate }}
                          </span> -->
                          </span>
                        </div>
                      </div>

                      <div class="row divider-row" *ngIf="prjct_profile_type !== 'free' && isSripeSub" style="margin-top: 16px;">
                        <label class="col-sm-3 "> </label>
                        <div class="col-sm-10" style="border-top: 1px solid #eeeeee;"></div>
                      </div>
                    </ng-container>


                    <!-- ------------------------------------------------------------------------------------------------ -->
                    <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - SEE PAYMENTS BTN  -->
                    <!-- && profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F -->
                    <!-- ------------------------------------------------------------------------------------------------ -->
                    <ng-container *ngIf="!appSumoProfile && isSripeSub">
                      <div class="row" *ngIf="prjct_profile_type !== 'free'"
                        style="margin-top: 16px;">
                        <label class="col-sm-3 custom-label">
                          {{ "ProjectEditPage.Payments" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                          <button class="btn btn-primary" (click)="goToPayments()"
                            style="padding: 6px 38px; margin-top: 5px;">
                            {{ "ProjectEditPage.SeePayments" | translate }}
                          </button>
                        </div>
                      </div>
                    </ng-container>

                    <!-- ------------------------------------------------------------------------------------------------ -->
                    <!-- SUBSCRIPTION STATUS - PROFILE TYPE: PAYMENT - CANCEL SUBSCRIPTION  -->
                    <!-- ------------------------------------------------------------------------------------------------ -->
                
                    <!-- *ngIf="prjct_profile_type !== 'free' && profile_name !== PLAN_NAME?.C && profile_name !== PLAN_NAME?.F" -->
                    <ng-container *ngIf="!appSumoProfile && isSripeSub && prjct_profile_type !== 'free'">
                      <div class="row">
                        <label class="col-sm-3"> </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                          <button class="btn btn-danger" (click)="viewCancelSubscription()"
                            style="padding: 6px 15px; margin-top: 5px;">
                            {{ "CancelSubscription" | translate }}
                          </button>
                        </div>
                      </div>
                    </ng-container>


                    <!-- ------------------------------------------------------------------------------------------------ -->
                    <!--  NO PAYMENTS  -->
                    <!-- ------------------------------------------------------------------------------------------------ -->
                    <ng-container *ngIf="!appSumoProfile && isSripeSub">
                      <div class="row flex--row" style="margin-top: 16px;"
                        *ngIf="subscriptionPaymentsLength === 0 && prjct_profile_type !== 'payment'">
                        <label class="col-sm-3 custom-label" style="padding-top:15px">
                          {{ "ProjectEditPage.Payments" | translate }} </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                          <!-- <button class="btn btn-danger" (click)="viewCancelSubscription()" style="padding: 6px 15px; margin-top: 5px;">
                            {{ "CancelSubscription" | translate }}
                          </button> -->
                          <span class="subscription-info" style="font-weight: 400;">
                            {{ 'NoPayments' | translate }}
                          </span>
                        </div>
                      </div>

                      <!-- ------------------------------------------------------------------------------------------------ -->
                      <!--  PROFILE TYPE: FREE - SUBSCRIPTION BUTTON @ MEDIA < 768  -->
                      <!-- ------------------------------------------------------------------------------------------------ -->
                      <!-- {{ prjct_profile_type}} -->
                      <div style="margin-top: 16px;" class="row upgrade-plan-btn-row"
                        *ngIf="prjct_profile_type !== 'payment'">
                        <label class="col-sm-3"> </label>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                        <!-- <div class="col-xs-12" style="text-align: center;"> -->

                          <button class="btn btn-primary" style="padding-top:9px; padding-bottom:9px"
                            (click)="goToPricing()">
                            {{ "Pricing.UpgradePlan" | translate }}
                          </button>
                        </div>
                      </div>
                    </ng-container>

                    <ng-container *ngIf="appSumoProfile">
                      <div class="wpr-plan-features-card" style="margin-top: 31px;">
                        <div data-testid="communicator" class="plan-card-wpr">
                          <div class="plan-card-left-content">
                            <h2 weight="500" class="plan-card-title">
                              {{ appSumoProfile }}
                            </h2>
                            <span size="8" class="span-8"></span>

                            <span size="8" class="span-8"> </span>

                            <div class="highlighted-features-wpr">
                              <span *ngFor="let feature of highlightedFeatures" class="highlighted-features"
                                [ngStyle]="{'color': feature.color, 'background-color':  feature.background}">
                                <div class="highlighted-feature"> {{feature.feature}} </div>
                              </span>
                            </div>

                            <span size="16" class="span-16"> </span>
                            <div class="plan-features">
                              <ul class="plan-features-wpr">


                                <li class="plan-features" *ngFor="let feature of planFeatures">
                                  <div class="plan-features-text-and-icon-wpr"
                                    style="position: relative;">
                                    <div class="plan-features-icon">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 16 16"
                                        fill="primary" class="check-icon"
                                        style="min-width: 14px; min-height: 14px;">
                                        <path fill="none" d="M0 0h16v16H0z"></path>
                                        <path d="M6 10.8L3.2 8l-.933.933L6 12.667l8-8-.933-.934z"></path>
                                      </svg>
                                    </div>
                                    <span size="16" class="span-16"></span>
                                    <div class="plan-features-text">{{feature}}</div>
                                  </div>
                                </li>

                              </ul>
                            </div>

                          </div>

                        </div>
                        <div class="change-appsumo-plan" style="text-align: center;">
                          <button id="annually-plan-b" type="button" (click)="changeAppSumoProduct()"
                            class="btn btn-new btn-size-xl-round btn--primary">
                            <span> Change Plan </span>
                          </button>
                          <!-- The number of teammates allowed is {{free_plan_allowed_seats_num}}. Update the plan or manually remove teammates that exceed the limit (the system will do it automatically in a month)", -->
                          <div class="contact-us-x-app-sumo-issue" style="margin-top: 16px;
                          margin-bottom: 26px;
                          font-size: 16px;
                          font-weight: 400;">
                            Please do not hesitate to <span class="link-to-contact-us" (click)="contactUs()">contact us </span>with any problems
                            you might have faced, we want to make sure you have a good experience!
                        </div>
                          <div class="appsumo-account-instruction">
                            <div class="appsumo-account-instruction-header">
                              Instruction for AppSumo accounts
                            </div>
                            <div class="appsumo-account-instruction-title">
                              Upgrading
                            </div>
                            <div class="appsumo-account-instruction-content">
                              If you have no more seats left for teammates, please update your tier inside AppSumo
                            </div>

                            <div class="appsumo-account-instruction-title">
                              Downgrading
                            </div>

                            <div class="appsumo-account-instruction-content">
                              Before downgrading, be sure to remove Tiledesk teammates first (<span
                                class="link-to-teammates" (click)="goToTeammates()">see here</span>).
                              Before downgrading, the number of teammates must be equal to or less than the teammates
                              allowed in the new tier. Otherwise the system will automatically remove teammates who
                              exceed the limit in a month.
                            </div>

                          </div>

                        </div>

                     
                      </div>

                    </ng-container>

                  </div>
                  <!-- ****************** /.end project plan ****************** -->
                </span>


                <!-- -------------------------------------------------------- -->
                <!-- Authentication  (i.e. Developer TAB)-->
                <!-- -------------------------------------------------------- -->
                <span *ngIf="PROJECT_SETTINGS_AUTH_ROUTE">
                  <!-- SECTION SHARED SECRET - TITLE AND SUBTITLE -->
                  <div class="row" *ngIf="isVisibleVisitorAuthentication">
                    <div class="col-md-12">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{ "ProjectEditPage.VisitorAuthentication" | translate }}
                        </span>
                      </h3>
                    </div>
                    <div class="col-md-12">

                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                    </div>
                  </div>

                  <!-- SHARED SECRET GENERATE -->
                  <div class="input-wrapper" style="max-width: 992px;" *ngIf="isVisibleVisitorAuthentication">

                    <div class="row">
                      <div class="col-sm-8">
                        <div class="alert"
                          style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                          <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5"
                            class="material-icons">info
                          </i>
                          <span style="vertical-align: middle; display: inline-flex;">
                            {{ "ProjectEditPage.EnableVisitorAuthentication" | translate }}.
                            <span *ngIf="hideHelpLink" class="link-to-widget-auth" (click)="goToWidgetAuthenticationDocs()">
                              {{ 'Resourcepage.HereHow' | translate }}
                            </span>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-xs-12">
                        <button (click)="openConfirmJwtSecretCreationModal()" class="btn btn-primary"
                          style="margin-top:5px; padding:6px 15px ">
                          {{ "ProjectEditPage.GenerateSharedSecret" | translate }}
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- -------------------------------------------------------- -->
                  <!-- WEBHOOK -->
                  <!-- -------------------------------------------------------- -->
                  <div class="input-wrapper" style="max-width: 992px;">
                    <div class="row">
                      <div class="col-md-12">
                        <h3 class="card_title__underlined"  [ngStyle]="{'margin-top':isVisibleVisitorAuthentication === true ? '30px' : '0px' }">
                          <span class="card_title__underline">
                            {{ "ProjectEditPage.Webhook" | translate }}
                          </span>
                        </h3>
                      </div>
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-sm-8">
                        <div class="alert"
                          style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                          <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5"
                            class="material-icons">info
                          </i>
                          <span style="vertical-align: middle; display: inline-flex;">
                            {{ "ProjectEditPage.EnableWebhook" | translate }}.
                            <span *ngIf="hideHelpLink" class="link-to-widget-auth" (click)="goToWebhookDocs()">
                              {{ 'Resourcepage.HereHow' | translate }}
                            </span>
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-xs-12">
                        <button (click)="goToWebhookPage()" class="btn btn-primary"
                          style="margin-top:5px; padding:6px 15px ">
                          {{ "ProjectEditPage.ManageWebhook" | translate }}
                        </button>
                      </div>

                      <div class="upgrade-for-webhook" *ngIf="DISPLAY_ADVANCED_TAB === false">
                        <div *ngIf="isVisiblePaymentTab"  class="from--a-plan-badge">
                          {{'AvailableFromThePlan' | translate: t_params }}
                        </div>
                        <div class="upgrade-btn-wpr">
                          <button class="btn btn-get-feature-no-boxshadow custom-margin pull-left"
                              [ngStyle]="{'margin-left':isVisiblePaymentTab === true ? '15px' : '0px'}"
                              (click)="goToPricing()" 
                              matTooltipClass="custom-mat-tooltip-in-widget-setup"
                              matTooltip=" {{'UpgradePlanToGetTheFeature' | translate}}" 
                              #tooltip="matTooltip"
                              matTooltipPosition='below'
                              matTooltipHideDelay="100">
                            <span class="material-icons-outlined get-feature-upgrade-plan-icon">
                              upgrade
                            </span>
                            <span>
                              {{ 'Pricing.UpgradePlan' | translate }}
                            </span>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- -------------------------------------------------------- -->
                  <!-- TEST WIDGET API -->
                  <!-- -------------------------------------------------------- -->
                  <div class="input-wrapper" style="max-width: 992px;">
                    <div class="row">
                      <div class="col-md-12">
                        <h3 class="card_title__underlined" style="margin-top:30px">
                          <span class="card_title__underline">
                            {{ "WidgetAPITestPage" | translate }}
                          </span>
                        </h3>
                      </div>
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-sm-8">
                        <div class="alert"
                          style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                          <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5" class="material-icons">
                            info
                          </i>
                          <span style="vertical-align: middle; display: inline-flex;">
                            {{ "UseTheWidgetTestPageToTestTheWidgetAPI" | translate }}
                          </span>
                        </div>
                      </div>
                    </div>

                    <div class="row">

                      <div class="col-xs-12">
                        <button (click)="goToWidgetTestPage()" class="btn btn-primary test-widget-api-btn"
                          style="margin-top:5px; padding:6px 15px ">
                          {{ "WidgetTest" | translate }}
                        </button>
                      </div>
                    </div>
                  </div>
                </span> <!-- /. AUTH ROUTE -->



               


                <!-- -------------------------------------------------------- -->
                <!-- Notifications -->
                <!-- -------------------------------------------------------- -->
                <span *ngIf="PROJECT_SETTINGS_NOTIFICATION_ROUTE">

                  <!-- ASSIGNED CONVERSATION -->
                  <div class="row">
                    <div class="col-md-6">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{ "NotificationSettings.AssignedConversations" | translate }}
                        </span>
                      </h3>
                    </div>

                    <!-- SWITCH BUTTON -->
                    <div class="col-md-6">
                      <h3 class="card-title onoffswitch_container_first_line">

                        <div class="onoffswitch">
                          <input (change)="toggleProjectAssignedConversation($event)"
                            [checked]="assigned_conv_on === true" type="checkbox" name="assigned_conv_onoffswitch"
                            class="onoffswitch-checkbox" id="assigned_conv_onoffswitch">
                          <label class="onoffswitch-label" for="assigned_conv_onoffswitch">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                          </label>
                        </div>
                      </h3>
                    </div>

                    <!-- SUBTITLE -->
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"></div>
                      <p style="margin-top: -10px;">
                        {{ "NotificationSettings.AssignedConversationsSubtitle" | translate }}</p>
                    </div>
                  </div>
                  <!-- END ASSIGNED CONVERSATION -->

                  <!-- UNASSIGNED CONVERSATION -->
                  <div class="row" style="margin-top: 40px;">
                    <div class="col-md-6">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{ "NotificationSettings.UnassignedConversations" | translate }}
                        </span>
                      </h3>
                    </div>

                    <!-- SWITCH BUTTON -->
                    <div class="col-md-6">
                      <h3 class="card-title onoffswitch_container_first_line">

                        <div class="onoffswitch">
                          <input (change)="toggleProjectUnassignedConversation($event)"
                            [checked]="unassigned_conv_on === true" type="checkbox" name="unassigned_conv_onoffswitch"
                            class="onoffswitch-checkbox" id="unassigned_conv_onoffswitch">
                          <label class="onoffswitch-label" for="unassigned_conv_onoffswitch">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                          </label>
                        </div>
                      </h3>
                    </div>

                    <!-- SUBTITLE -->
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"></div>
                      <p style="margin-top: -10px;">
                        {{ "NotificationSettings.UnassignedConversationsSubtitle" | translate }}</p>
                    </div>
                  </div> <!-- ./ UNASSIGNED CONVERSATION -->
                  <!-- --------------------------------------------- -->
                  <!-- TRANSCRIPT BY EMAIL -->
                  <!-- --------------------------------------------- -->
                  <div  *ngIf="isVisibleAutoSendTranscript" class="row" style="margin-top: 40px;">
                    <div class="col-md-6">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{ "ProjectEditPage.TranscriptByEmail" | translate }}
                        </span>
                      </h3>
                    </div>

                    <!-- SWITCH BUTTON -->
                    <div class="col-md-6">
                      <h3 class="card-title onoffswitch_container_first_line">

                        <div class="onoffswitch">
                          <input (change)="autoSendTranscriptOnOff($event)"
                            [checked]="AUTO_SEND_TRANSCRIPT_IS_ON === true" type="checkbox" name="onoffswitch"
                            class="onoffswitch-checkbox" id="myonoffswitch" [disabled]="DISPLAY_ADVANCED_TAB === false">
                          <label class="onoffswitch-label" for="myonoffswitch">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                          </label>
                        </div>
                      </h3>
                    </div>

                    <!-- SUBTITLE -->
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"></div>
                      <p style="margin-top: -10px;">
                        {{ "ProjectEditPage.AutoSendTranscriptByEmail" | translate }}
                      </p>
                    </div>
                  </div>
                  <!-- --------------------------------------------- -->
                  <!-- AUTO SEND TRANSCRIPT BY EMAIL BODY -->
                  <!-- --------------------------------------------- -->
                  <div *ngIf="isVisibleAutoSendTranscript" class="input-wrapper" style="max-width: 992px;">

                    <div class="row">
                      <div class="col-xs-12 col-sm-10" style="margin-bottom: 12px;">

                        <div class="upgrade-for-webhook" style="margin-left: 0px;" *ngIf="DISPLAY_ADVANCED_TAB === false">
                          <div *ngIf="isVisiblePaymentTab" class="from--a-plan-badge" >
                            {{'AvailableFromThePlan' | translate: t_params }}
                          </div>
                          <div class="upgrade-btn-wpr">
                            <button class="btn btn-get-feature-no-boxshadow pull-left"
                              [ngStyle]="{'margin-left':isVisiblePaymentTab === true ? '15px' : '0px'}" 
                              (click)="goToPricing()"
                              matTooltipClass="custom-mat-tooltip-in-widget-setup"
                              matTooltip=" {{'UpgradePlanToGetTheFeature' | translate}}" #tooltip="matTooltip"
                              matTooltipPosition='below' 
                              matTooltipHideDelay="100">
                              <span class="material-icons-outlined get-feature-upgrade-plan-icon">
                                upgrade
                              </span>
                              <span>
                                {{ 'Pricing.UpgradePlan' | translate }}
                              </span>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> <!-- ./ TRANSCRIPT BY EMAIL  -->

                  <!-- --------------------------------------------- -->
                  <!-- CUSTOMIZE EMAILS SENT TO AGENTS  -->
                  <!-- --------------------------------------------- -->
                  <div *ngIf="isVisibleCustomizeEmailTemplate" 
                    class="row customize-email-template" style="margin-top: 40px;">
                    <div class="col-md-6">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{ "ProjectEditPage.CustomizeEmailTemplate" | translate }}
                        </span>
                      </h3>
                    </div>

                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"></div>
                      <p style="margin-top: -10px;">
                        {{ "ProjectEditPage.CustomizeEmailTemplateSubTitle" | translate }}</p>
                    </div>

                    <div class="col-xs-12">
                      <button id="customize-email-template" (click)="goToCustomizeNotificationEmailPage()"
                        class="btn btn-primary" style="margin-top:5px; padding:6px 15px ">
                        {{ "ProjectEditPage.CustomizeEmailTemplateBtn" | translate }}
                      </button>
                    </div>

                    <div class="col-xs-12">
                      <div class="upgrade-for-webhook" style="margin-left: 0px;" *ngIf="!isTier3Plans">
                        <div *ngIf="isVisiblePaymentTab" class="c-plan-only-badge">
                          {{'OnlyWithPlan' | translate : tParamsFeatureAvailableWith}}
                        </div>
                        <div class="upgrade-btn-wpr">
                          <button class="btn btn-get-feature-no-boxshadow custom-margin pull-left"
                              [ngStyle]="{'margin-left':isVisiblePaymentTab === true ? '15px' : '0px'}"
                              (click)="goToPricing()" 
                              matTooltipClass="custom-mat-tooltip-in-widget-setup"
                              matTooltip=" {{'UpgradePlanToGetTheFeature' | translate}}" 
                              #tooltip="matTooltip"
                              matTooltipPosition='below'
                              matTooltipHideDelay="100">
                            <span class="material-icons-outlined get-feature-upgrade-plan-icon">
                              upgrade
                            </span>
                            <span>
                              {{ 'Pricing.UpgradePlan' | translate }}
                            </span>
                          </button>
                        </div>
                      </div>
                    </div> 
                  </div> <!-- ./ CUSTOMIZE EMAILS SENT TO AGENTS -->

                  <!-- --------------------------------------------- -->  
                  <!-- CONFIGURE EMAIL SMTP  -->
                  <!-- --------------------------------------------- --> 
                  <div *ngIf="isVisibleSMTPsettings" class="row smtp-settings" style="margin-top: 40px;">
                    <div class="col-md-6">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{ "ProjectEditPage.SMTPSettings" | translate }}
                        </span>
                      </h3>
                    </div>

                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"></div>
                      <p style="margin-top: -10px;">
                        {{ "ProjectEditPage.SMTPSettingsSubTitle" | translate }}</p>
                    </div>

                    <div class="col-xs-12">
                      <button (click)="goToManageEmailSettings()" class="btn btn-primary"
                        style="margin-top:5px; padding:6px 15px ">
                       {{ "ProjectEditPage.ManageSMTPSettings" | translate }}
                      </button>
                    </div>

                    <div class="col-xs-12">
                      <div class="upgrade-for-webhook" style="margin-left: 0px;" *ngIf="!isTier3Plans">
                        <div *ngIf="isVisiblePaymentTab" class="c-plan-only-badge">
                          {{'OnlyWithPlan' | translate : tParamsFeatureAvailableWith}}
                        </div>
                        
                        <div class="upgrade-btn-wpr">
                          <button class="btn btn-get-feature-no-boxshadow custom-margin pull-left"
                              [ngStyle]="{'margin-left':isVisiblePaymentTab === true ? '15px' : '0px'}"
                              (click)="goToPricing()" 
                              matTooltipClass="custom-mat-tooltip-in-widget-setup"
                              matTooltip=" {{'UpgradePlanToGetTheFeature' | translate}}" 
                              #tooltip="matTooltip"
                              matTooltipPosition='below'
                              matTooltipHideDelay="100">
                            <span class="material-icons-outlined get-feature-upgrade-plan-icon">
                              upgrade
                            </span>
                            <span>
                              {{ 'Pricing.UpgradePlan' | translate }}
                            </span>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div> <!-- ./ CONFIGURE EMAIL SMTP -->
                </span>


                <!-- -------------------------------------------------------- -->
                <!-- Security -->
                <!-- -------------------------------------------------------- -->
                <span *ngIf="PROJECT_SETTINGS_SECURITY_ROUTE">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="security-section-title" style="width: calc((100% / 3) + 372px); margin-bottom: 16px;">
                        {{'ProjectEditPage.Security.SecurityDescription' | translate:tparams }}
                      </div>

                    </div>
                  </div>
                  <!-- ASSIGNED CONVERSATION -->
                  <div class="row">
                    <div class="col-md-6">
                      <h3 class="card_title__underlined">
                        <span class="card_title__underline">
                          {{'ProjectEditPage.Security.EnableIPRestriction' | translate }}
                        </span>
                      </h3>
                    </div>

                    <!-- SWITCH BUTTON -->
                    <div class="col-md-6">
                      <h3 class="card-title onoffswitch_container_first_line">

                        <div class="onoffswitch">
                          <input (change)="toggleEnableIPrestrictions($event)" [checked]="ip_restrictions_on === true"
                            type="checkbox" name="ip_restrictions_onoffswitch" class="onoffswitch-checkbox"
                            id="ip_restrictions_onoffswitch">
                          <label class="onoffswitch-label" for="ip_restrictions_onoffswitch">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                          </label>
                        </div>
                      </h3>
                    </div>

                    <!-- SUBTITLE -->
                    <div class="col-md-12">
                      <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"></div>
                      <p style="margin-top: -10px;margin-bottom: 2px;">
                        {{'ProjectEditPage.Security.ThisWillAffects' | translate }}
                      </p>
                      <ul>
                        <li>
                          {{'ProjectEditPage.Security.SignInForAllTiledeskProducts' | translate:tparams }}
                        </li>
                        <!-- <li>
                            Access to functionality within Support, Guide, Talk and Explore
                          </li>
                          <li>
                            API calls for Support, Guide, Talk and Explore
                          </li> -->
                      </ul>
                    </div>


                    <div class="row" style="margin-top: 40px;">
                      <div class="col-md-8" style="max-width:645px">
                        <h3 style="font-size: 16px;
                          font-weight: 300;
                          font-family: 'Poppins','Roboto', 'Arial', sans-serif;
                          margin-left: 15px;
                          margin-bottom: 0px; margin-bottom: 3px;">
                           {{'ProjectEditPage.Security.AllowedIpRanges' | translate }}
                        </h3>

                        <!-- style="width: calc((100% / 3) + 372px); -->
                        <div class="security-section-title" style="margin-bottom: 16px; margin-left: 15px;">
                          {{'ProjectEditPage.Security.AddIpRanges' | translate:tparams }}
                          {{'ProjectEditPage.Security.Use' | translate }} <span style="font-weight: 500;"> n.n.n.n </span> {{ 'Or' | translate }}<span style="font-weight: 500;">
                            n.n.n/n </span> {{'ProjectEditPage.Security.AllowedIpRanges'  | translate }}

                          <!--[disabled]="!ip_restrictions_on" -->
                          <input style="margin-top: 6px;" [(ngModel)]="allowedIPs"
                            (ngModelChange)="allowedIPsChanged($event)" type="text"
                            placeholder="{{'ProjectEditPage.Security.RangesPlaceholder' | translate }}" [disabled]="!ip_restrictions_on">
                        </div>
                      </div>
                    </div>


                    <div class="row">
                      <div class="col-sm-8">
                        <div style="background-color: #fcf8e3;
                          border: 1px solid #faebcc;
                          box-shadow: none;
                          padding: 10px;
                          margin-left: 15px;
                          color: rgb(161, 99, 0);">
                          <span style="display: flex;">
                            <i class="material-icons"
                              style="vertical-align: middle; display: inline-flex;  color:rgb(161, 99, 0); margin-right: 3px;font-size: 20px;">report_problem
                            </i>
                            <span style="vertical-align: middle; display: inline-flex;">
                              {{'ProjectEditPage.Security.EnableIpBasedAccessRestrictions' | translate:tparams }}
                            </span>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </span> <!-- ./ security -->


                <!-- -------------------------------------------------------- -->
                <!-- Banned visitors -->
                <!-- -------------------------------------------------------- -->
                <span *ngIf="PROJECT_SETTINGS_BANNED_VISITORS_ROUTE">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="card  card--no-border">
                        <div class="card-content table-responsive" style="padding-bottom:5px">
                          <table class="table table-hover">
                            <thead class="text">
                              <tr>

                                <!-- -------------------------------------- -->
                                <!--  User Avatar -->
                                <!-- -------------------------------------- -->
                                <th>
                                  <span class="column-th-span">
                                    {{ 'Visitor' | translate }}
                                  </span>
                                  <!-- <span class="column-th-span">
                                   Id
                                  </span> -->
                                </th>

                                <!-- -------------------------------------- -->
                                <!--  User Email -->
                                <!-- -------------------------------------- -->
                                <th>
                                  <span class="column-th-span">
                                    Email
                                  </span>
                                </th>

                                <!-- -------------------------------------- -->
                                <!--  Actions  -->
                                <!-- -------------------------------------- -->
                                <th>
                                  <span class="column-th-span">
                                    {{ 'Actions' | translate }}
                                  </span>
                                </th>

                              </tr>
                            </thead>
                            <tbody>
                              <!-- -------------------------------------- -->
                              <!--  IF THERE ISN'T CONTACTS  -->
                              <!-- -------------------------------------- -->
                              <tr *ngIf="projectObject?.bannedVisitors && projectObject?.bannedVisitors?.length === 0">
                                <td colspan="3" style="text-align: center; padding-top: 16px; cursor: pointer">

                                  <p style="font-size:1em; color:#7695a5; font-weight: 400">
                                    {{ 'NoBannedVisitors' | translate }}
                                  </p>
                                </td>
                              </tr>

                              <tr *ngFor="let visitor of projectObject?.bannedVisitors">
                                <!-- <tr *ngFor="let visitor of projectObject?.bannedUsers"> -->
                                <!-- -------------------------------------- -->
                                <!--  User NAME  -->
                                <!-- -------------------------------------- -->
                                <!-- (click)='goToContactDetails(visitor?.id)' -->
                                <td style="cursor:pointer" (click)='goToContactDetails(visitor?.requesterId)'>
                                  <span class="avatar"
                                    [ngStyle]="{'background':  'linear-gradient(rgb(255,255,255) -125%,' + visitor?.fillColour + ')'}">
                                    <span style="color: #ffffff"> {{ visitor?.leadInitials }} </span>
                                  </span>
                                  <span class="column-td" style="margin-left: 10px;">
                                    {{ visitor?.fullname }}
                                  </span>
                                  <!-- <span class="column-td" >
                                      {{ visitor?.id }}
                                    </span>  -->
                                </td>

                                <!-- -------------------------------------- -->
                                <!--  CONTACT EMAIL  -->
                                <!-- -------------------------------------- -->
                                <td>
                                  <p class="column-td" style="margin-bottom: 5px; margin-top: 5px">
                                    {{ visitor?.leademail }}
                                  </p>
                                </td>

                                <td class="td-actions text-right"
                                  style="padding-left: 0px;padding-top: 17px!important;">

                                  <!-- UNBAN CONTACT click)='unbanVisitor(visitor?._id)'-->
                                  <button type="button" class="btn btn-primary btn-simple btn-xs tooltipx"
                                    [disabled]="IS_CURRENT_USER_AGENT === true"
                                    (click)='unbanVisitor(visitor?.bannedUsers_Id)'>

                                    <svg version="1.1" id="Livello_1" xmlns="http://www.w3.org/2000/svg"
                                      xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 24 24"
                                      style="enable-background:new 0 0 24 24; width: 18px; height: auto; vertical-align: middle;position: relative; top: -2px;"
                                      xml:space="preserve">
                                      <style type="text/css">
                                        .unlock-st0 {
                                          fill: none;
                                        }

                                        .unlock-st1 {
                                          fill: #3EA9F5;
                                        }
                                      </style>
                                      <path class="unlock-st0"
                                        d="M0,0v24h24V0H0z M6,8c1,0,3,0,4,0C9,8,7,8,6,8z M6,4c2,0,3,0,5,0C9,4,8,4,6,4z" />
                                      <path class="unlock-st1"
                                        d="M18,8h-1V6c0-2.8-2.2-5-5-5c-2,0-3.8,1.2-4.6,3c0.8,0,1.4,0,2.2,0c0.6-0.7,1.4-1.1,2.3-1.1
                                            c1.7,0,3.1,1.4,3.1,3.1v2H10H8.9C8.3,8,7.6,8,7,8H6c-1.1,0-2,0.9-2,2v10c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V10C20,8.9,19.1,8,18,8z
                                            M12,17c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2C14,16.1,13.1,17,12,17z" />
                                    </svg>

                                    <span class="tooltiptext-custom" style="text-transform:none">

                                      {{ 'Unban' | translate }}
                                    </span>
                                  </button>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                          <!-- {{ projectObject | json }} -->
                        </div>
                      </div>
                    </div>
                  </div>
                </span>
                <!-- ./ Banned visitors -->

                 
                <!-- -------------------------------------------------------- -->
                <!-- Smart assign -->
                <!-- -------------------------------------------------------- -->
                <!-- <span *ngIf="PROJECT_SETTINGS_ADVANCED_ROUTE"> -->
                  <span *ngIf="PROJECT_SETTINGS_SMARTASSIGNMENT_ROUTE">
                    <!-- -------------------------------------------------------- -->
                    <!-- Automatic Assignment -->
                    <!-- -------------------------------------------------------- -->
                    <div class="row">
                      <div class="col-md-6">
                        <h3 class="card_title__underlined">
                          <span class="card_title__underline">
                            {{ "ProjectEditPage.AutomaticAssignment" | translate }}
                          </span>
                        </h3>
                      </div>
  
                      <div class="col-md-6">
                        <h3 class="card-title onoffswitch_container_first_line">
  
                          <div class="onoffswitch">
                            <input (change)="toggleChat_limit_on($event)" [checked]="chat_limit_on" type="checkbox"
                              name="chat_limit_on_onoffswitch" class="onoffswitch-checkbox" id="chat_limit_on_onoffswitch"
                              [disabled]="advancedSettingBtnDisabled === true">
                            <label class="onoffswitch-label" for="chat_limit_on_onoffswitch">
                              <span class="onoffswitch-inner"></span>
                              <span class="onoffswitch-switch"></span>
                            </label>
                          </div>
                        </h3>
                      </div>
  
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>
  
                    <div class="input-wrapper" style="max-width: 992px;">
                      <div class="row">
                        <div class="col-sm-8">
                          <div style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                            <span style="display: flex;">
                              <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5; margin-right: 3px;"
                                class="material-icons">info
                              </i>
                              <span style="vertical-align: middle; display: inline-flex;">
                                {{ "ProjectEditPage.IfYouActivateTheAutomaticAssignmentOption" | translate: tparams }}
                              </span>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
  
  
                    <!-- -------------------------------------------------------- -->
                    <!-- Chat limit -->
                    <!-- -------------------------------------------------------- -->
                    <div class="row">
                      <div class="col-md-12">
                        <h3 class="card_title__underlined" style="margin-top: 30px;">
                          <span class="card_title__underline">
                            {{ "ProjectEditPage.ChatLimit" | translate }}
                          </span>
                        </h3>
                      </div>
  
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>
                    <div class="input-wrapper" style="max-width: 992px;"
                      [ngClass]="{'section-disabled' : chat_limit_on === false}">
                      <div class="row">
                        <div class="col-sm-8">
                          <div class="alert"
                            style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                            <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5"
                              class="material-icons">info
                            </i>
                            <span style="vertical-align: middle; display: inline-flex;">
                              {{ "ProjectEditPage.LimitChatsNumber" | translate }}</span>
                          </div>
                        </div>
                      </div>
  
                      <div class="row">
                        <label class="col-xs-12 col-sm-2 custom-label custom-label-left" style="padding-top:7px">
                          {{ 'ProjectEditPage.MaximumChats' | translate}}
                        </label>
                        <div class="col-xs-12 col-sm-10">
  
  
                          <!--  -------------------------------------------------------- -->
                          <!--  Maximum chats input -->
                          <!--  -------------------------------------------------------- -->
                          <div class="chat-limit">
                            <input type="number" [(ngModel)]="max_agent_assigned_chat"
                              (ngModelChange)="onChangeMaximum_chats($event)" class="input" id="chat_limit"
                              name="chat_limit" min="1" max="10000000" style="margin-bottom: 1px;"
                              [disabled]="chat_limit_on === false">
                          </div>
  
  
                          <div *ngIf="maximum_chats_has_minimum_error === true" class="error-message"
                            style="color: #f6303a;font-size: 14px">
                            {{'ProjectEditPage.theMinimumAllowedIs_1' | translate }}
                          </div>
                          <div *ngIf="maximum_chats_has_maximum_error === true" class="error-message"
                            style="color: #f6303a;font-size: 14px">
                            {{'ProjectEditPage.theMaximumAllowedIs_10000000' | translate }}
                          </div>
  
                          <span
                            style="display: block; font-size: 12px; font-weight: 100;color: #7695a5;line-height: 1.2em;padding-top: 3px;">
                            {{ "ProjectEditPage.ThisChatLimitWillAppliedToAllAgents" | translate }}
                          </span>
                          <span
                            style="display: block; font-size: 12px; font-weight: 100;color: #7695a5;line-height: 1.2em;padding-top: 3px; max-width: 415px;margin-top: 5px;">
                            {{ "ProjectEditPage.YouCanSpecifyAgentsIndividualChatLimit" | translate }}
                          </span>
                        </div>
                      </div>
                    </div>
  
  
                    <!-- -------------------------------------------------------- -->
                    <!-- Reassigment -->
                    <!-- -------------------------------------------------------- -->
                    <div class="row">
                      <div class="col-md-6">
                        <h3 class="card_title__underlined" style="margin-top:30px">
                          <span class="card_title__underline">
                            {{ "ProjectEditPage.Reassignment" | translate }}
                          </span>
                        </h3>
                      </div>
  
                      <div class="col-md-6">
                        <h3 class="card-title onoffswitch_container">
                          <div class="onoffswitch">
                            <input (change)="toggleReassignment_on($event)" [checked]="reassignment_on" type="checkbox"
                              name="reassignment_on_onoffswitch" class="onoffswitch-checkbox" id="reassignment_on"
                              [disabled]="advancedSettingBtnDisabled === true">
                            <label class="onoffswitch-label" for="reassignment_on">
                              <span class="onoffswitch-inner"></span>
                              <span class="onoffswitch-switch"></span>
                            </label>
                          </div>
                        </h3>
                      </div>
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>
  
  
                    <div class="input-wrapper" style="max-width: 992px;"
                      [ngClass]="{'section-disabled' : reassignment_on === false}">
  
                      <div class="row">
                        <div class="col-sm-8">
                          <div class="alert"
                            style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                            <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5"
                              class="material-icons">info
                            </i>
                            <span style="vertical-align: middle; display: inline-flex;">
                              {{ "ProjectEditPage.ReassignChatIf" | translate }}</span>
                          </div>
                        </div>
                      </div>
  
                      <div class="row">
                        <label class="col-xs-12 col-sm-2 custom-label custom-label-left" style="padding-top:0px">
                          {{ "ProjectEditPage.ReassignmentTimeout" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-10">
  
                          <div class="chat-limit">
                            <!-- -------------------------------------------------------- -->
                            <!-- Reassignment Timeout input -->
                            <!-- -------------------------------------------------------- -->
                            <input type="number" [(ngModel)]="reassignment_delay"
                              (ngModelChange)="onChangeReassignment_timeout($event)" class="input"
                              id="reassignment_timeout" name="reassignment_timeout" min="1" max="10000000"
                              style="margin-bottom: 1px;" [disabled]="reassignment_on === false">
  
                            <div *ngIf="reassignment_timeout_has_minimum_error === true" class="error-message"
                              style="color: #f6303a;font-size: 14px">
                              {{'ProjectEditPage.theMinimumAllowedIs_1' | translate }}
                            </div>
                            <div *ngIf="reassignment_timeout_has_maximum__error === true" class="error-message"
                              style="color: #f6303a;font-size: 14px">
                              {{'ProjectEditPage.theMaximumAllowedIs_10000000' | translate }}
                            </div>
  
                            <span
                              style="display: block; font-size: 12px; font-weight: 100;color: #7695a5;line-height: 1.2em;padding-top: 3px;">
                              {{ "ProjectEditPage.TimeWithNoResponse" | translate }}
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
  
  
                    <!-- -------------------------------------------------------- -->
                    <!-- Automatic Unavailable Status -->
                    <!-- -------------------------------------------------------- -->
                    <div class="row">
                      <div class="col-md-6">
                        <h3 class="card_title__underlined" style="margin-top:30px">
                          <span class="card_title__underline">
                            {{ "ProjectEditPage.AutomaticUnavailableStatus" | translate }}
                          </span>
                        </h3>
                      </div>
  
                      <div class="col-md-6">
                        <h3 class="card-title onoffswitch_container">
  
                          <div class="onoffswitch">
                            <input (change)="toggleUnavailable_status_on($event)"
                              [checked]="automatic_unavailable_status_on === true" type="checkbox"
                              name="unavailable_status_on_onoffswitch" class="onoffswitch-checkbox"
                              id="unavailable_status_on" [disabled]="reassignment_on === false">
                            <label class="onoffswitch-label" for="unavailable_status_on">
                              <span class="onoffswitch-inner"></span>
                              <span class="onoffswitch-switch"></span>
                            </label>
                          </div>
  
                        </h3>
                      </div>
  
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>
  
  
                    <div class="input-wrapper" style="max-width: 992px;"
                      [ngClass]="{'section-disabled' : automatic_unavailable_status_on === false || reassignment_on === false}">
                      <div class="row">
                        <div class="col-sm-8">
                          <div class="alert"
                            style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                            <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5"
                              class="material-icons">info
                            </i>
                            <span style="vertical-align: middle; display: inline-flex;">
                              {{ "ProjectEditPage.SetAnAgentStatusToUnavailable" | translate }}</span>
                          </div>
                        </div>
                      </div>
  
                      <div class="row">
                        <label class="col-xs-12 col-sm-2 custom-label custom-label-left">
                          {{ "ProjectEditPage.ChatsReassigned" | translate }}
                        </label>
                        <div class="col-xs-12 col-sm-10">
  
                          <div class="chat-limit">
  
  
                            <!-- -------------------------------------------------------- -->
                            <!-- Automatic Unavailable Status input -->
                            <!-- -------------------------------------------------------- -->
                            <input type="number" [(ngModel)]="automatic_idle_chats"
                              (ngModelChange)="onChangeAutomaticUnavailable($event)" class="input"
                              id="automatic_idle_chats" name="automatic_idle_chats" style="margin-bottom: 1px;"
                              style="margin-bottom: 1px;max-width: 93px;"
                              [disabled]="automatic_unavailable_status_on === false || reassignment_on === false">
  
                            <div *ngIf="automatic_idle_chats_has_minimum_error === true" class="error-message"
                              style="color: #f6303a;font-size: 14px">
                              {{'ProjectEditPage.theMinimumAllowedIs_1' | translate }}
                            </div>
                            <div *ngIf="automatic_idle_chats_has_maximum__error === true" class="error-message"
                              style="color: #f6303a;font-size: 14px">
                              {{'ProjectEditPage.theMaximumAllowedIs_10000000' | translate }}
                            </div>
  
                            <span
                              style="display: block; font-size: 12px; font-weight: 100;color: #7695a5;line-height: 1.2em;padding-top: 3px;">
                              {{ "ProjectEditPage.NumberOfChatsReassignedBefore" | translate }}
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </span> <!-- /. Smart Assignmen ROUTE -->

                <!-- -------------------------------------------------------- -->
                <!-- Advanced -->
                <!-- -------------------------------------------------------- -->
                <!-- <span *ngIf="PROJECT_SETTINGS_ADVANCED_ROUTE"> -->
                  <span *ngIf="PROJECT_SETTINGS_ADVANCED_ROUTE">
                   
                    <div class="row">
                      <div class="col-md-6">
                        <h3 class="card_title__underlined">
                          <span class="card_title__underline">
                            <!-- Agents can only see their own conversations -->
                            {{'ProjectEditPage.TeammatesCanOnlySeeTheirOwnConvs' | translate}}
                          </span>
                        </h3>
                      </div>
  
                      <div class="col-md-6">
                        <h3 class="card-title onoffswitch_container_first_line">
  
                          <div class="onoffswitch">
                            <!--  [disabled]="advancedSettingBtnDisabled === true"-->
                            <input (change)="toggleAgentViewOnlyOwnConv($event)"  type="checkbox"
                              name="agent_view_only_own_conv" class="onoffswitch-checkbox" id="agent_view_only_own_conv"
                              [checked]="agents_can_see_only_own_convs">
                            <label class="onoffswitch-label" for="agent_view_only_own_conv">
                              <span class="onoffswitch-inner"></span>
                              <span class="onoffswitch-switch"></span>
                            </label>
                          </div>
                        </h3>
                      </div>
  
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>
  
                    <div class="input-wrapper" style="max-width: 992px;">
                      <div class="row">
                        <div class="col-sm-8">
                          <div style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                            <span style="display: flex;">
                              <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5; margin-right: 3px;"
                                class="material-icons">info
                              </i>
                              <span style="vertical-align: middle; display: inline-flex;">
                                {{'ProjectEditPage.EnablingThisOptionAllowsTeammatesToOnlySeeOwnConvs' | translate}}
                              </span>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>


                    <!-- ----------------------------------- -->
                    <!-- Hide / display Chatbot attributes -->
                    <!-- ----------------------------------- -->
                    <div class="row" style="margin-top: 40px;">
                      <div class="col-md-6">
                        <h3 class="card_title__underlined">
                          <span class="card_title__underline">
                            
                            {{'HideChatbotAttributesWidget' | translate}}
                          </span>
                        </h3>
                      </div>
  
                      <div class="col-md-6">
                        <h3 class="card-title onoffswitch_container_first_line">
  
                          <div class="onoffswitch">
                            
                            <input (change)="toggleVisibilityOfChatbotAttributes($event)"  type="checkbox"
                              name="are_hide_chatbot_attributes_card_in_conv_dtls" class="onoffswitch-checkbox" id="are_hide_chatbot_attributes_card_in_conv_dtls"
                              [checked]="areHideChatbotAttributesInConvDtls">
                            <label class="onoffswitch-label" for="are_hide_chatbot_attributes_card_in_conv_dtls">
                              <span class="onoffswitch-inner"></span>
                              <span class="onoffswitch-switch"></span>
                            </label>
                          </div>
                        </h3>
                      </div>
  
                      <div class="col-md-12">
                        <div class="section-subtitle" style="width: calc((100% / 3) + 372px)"> </div>
                      </div>
                    </div>
  
                    <div class="input-wrapper" style="max-width: 992px;">
                      <div class="row">
                        <div class="col-sm-8">
                          <div style="background-color: #fff; border: 1px solid #e8f0f5;box-shadow: none;padding: 10px">
                            <span style="display: flex;">
                              <i style="vertical-align: middle; display: inline-flex; color:#3ea9f5; margin-right: 3px;"
                                class="material-icons">info
                              </i>
                              <span style="vertical-align: middle; display: inline-flex;">
                                {{'EnablingThisOptionHidesChatbotAttributes' | translate }}
                              </span>
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>


                  </span> <!-- /. Advanced ROUTE -->

              </div>
              <!-- ./ card-content -->
              <!-- -------------------------------------------------------- -->
              <!-- Save btn displayed only for the Security  tab -->
              <!-- -------------------------------------------------------- -->
              <span *ngIf="PROJECT_SETTINGS_SECURITY_ROUTE">
                <div class="card-footer" style="border-color: #e8f0f5 !important;">
                  <!-- [disabled]="!allowedIPs" -->
                  <button class="btn btn-primary btn_edit_advanced_settings" (click)="saveIPranges()">
                    {{ 'ScriptPage.Save' | translate }}
                  </button>

                </div>
              </span>

              <!-- -------------------------------------------------------- -->
              <!-- Save btn displayed only for the tab 'Smart assignment' -->
              <!-- -------------------------------------------------------- -->
              <!-- <span *ngIf="PROJECT_SETTINGS_ADVANCED_ROUTE"> -->
              <span *ngIf="PROJECT_SETTINGS_SMARTASSIGNMENT_ROUTE">
                
                <div class="card-footer" style="border-color: #e8f0f5 !important;">

                  <button class="btn btn-primary btn_edit_advanced_settings" (click)="updateAdvancedSettings()"
                    [disabled]="maximum_chats_has_minimum_error === true || 
                            maximum_chats_has_maximum_error === true || 
                            reassignment_timeout_has_minimum_error === true || 
                            reassignment_timeout_has_maximum__error === true ||
                            automatic_idle_chats_has_minimum_error === true ||
                            automatic_idle_chats_has_maximum__error === true ||
                            advancedSettingBtnDisabled === true">
                    {{ 'ScriptPage.Save' | translate }}
                  </button>

                </div>
              </span>


            </div>
            <!-- ./ card -->

          </div>
          <!-- ./ col-md-12 -->

        </div>
        <!-- ./ row -->
        <!-- <div class="row" *ngIf="PROJECT_SETTINGS_ROUTE">
          <div *ngIf="DISPLAY_DELETE_PRJCT_BTN === true" class="col-md-12" style="text-align: center;">
            <div class="delete-prjct-wpr"
              style="color: rgba(0, 0, 0, 0.54); padding-top: 25px;margin-top:25px; cursor:pointer; border-top: 1px solid #cccccc; margin-right: 19px;"
              (click)="openDeleteModal()">
              <i class="material-icons" style="vertical-align: middle">delete_forever</i>
              <span style="vertical-align: middle; text-transform: uppercase">
                {{ "ProjectEditPage.DeleteProject" | translate }}
              </span>
            </div>
          </div>
        </div> -->
      </div>
    </div>
  </div>
  <!-- ./ container-fluid -->

</div>
<!-- ./ main-content -->


<!-- ------------------------------------------- -->
<!-- DELETE PROJECT MODAL WINDOW -->
<!-- ------------------------------------------- -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':display}"
  style="background-color: rgba(90,90,90,0.5);">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background-color:#ff5252; padding-bottom:24px">
        <button style="color:#ffffff" type="button" class="close" aria-label="Close" (click)="onCloseModal()">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" style="color: #fff">
          <i class="material-icons" style="vertical-align: middle">report_problem</i>
          <span style="vertical-align: middle; padding-left:8px">
            <!-- Elimina progetto -->
            {{ "ProjectEditPage.DeleteProject" | translate }}
          </span>
        </h4>
        <h4 class="modal-title" style="color: #fff; padding-top:10px; font-size: 1.1em ">
          <!-- Il progetto verrà eliminato -->
          {{ "ProjectEditPage.TheProjectWillBeDeleted" | translate }}
        </h4>


      </div>
      <div class="modal-body" style="min-height: 135px;">

        <span *ngIf="SHOW_CIRCULAR_SPINNER === true">
          <div class="loader" style="top:25%">
            <svg class="circular" viewBox="25 25 50 50">
              <circle class="path" cx="50" cy="50" r="15" fill="none" stroke-width="2" stroke-miterlimit="10" />
            </svg>

          </div>
          <p style="margin-top: 40px; text-align: center;">
            <!-- {{ "FaqPage.Processing" | translate }} -->
            {{ "Processing" | translate }}
          </p>
        </span>

        <span *ngIf="SHOW_CIRCULAR_SPINNER === false">
          <label style="font-weight:100; text-align: left; padding-bottom:12px" class="col-sm-10 ">
            <!-- Per eliminare il progetto, digita l'ID del progetto: -->
            {{ "ProjectEditPage.ToDeleteTheProject" | translate }}:
            <span style="color:#212121">
              <strong> {{ id_project }}</strong>
            </span>
          </label>


          <div class="col-sm-10">
            <input class="" [(ngModel)]="project_id_to_delete" (ngModelChange)="onProjectIdToDeleteChange($event)"
              type="text" placeholder="{{ 'ProjectEditPage.ProjectId' | translate }}" [disabled]="isActiveSubscription">
          </div>
          <div class="col-sm-10">
            <span *ngIf="isActiveSubscription" style="display: block; font-size: 14px; color: #f44336;">
              {{'CancelAnyActiveSubscriptionsBeforeProceeding' | translate }}.
            </span>
          </div>

        </span>
      </div>
      <div class="modal-footer">
        <button class="btn btn-white" (click)="onCloseModal()" style="padding:12px 16px;">
          <!-- {{ "ProjectEditPage.Cancel" | translate }} -->
          {{ "Cancel" | translate }}
        </button>

        <button (click)="deleteProject()" style="margin-top:0px" class="btn btn-danger"
          [disabled]="DISABLE_DELETE_PROJECT_BTN === true || isActiveSubscription">

          {{ "ProjectEditPage.DeleteProject" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- -----------------------------------------------------------  -->
<!-- CONFIRM THE CREATION OF THE SHARED SECRET MODAL INFO -->
<!-- -----------------------------------------------------------  -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayConfirmJwtSecretCreationModal}"
  style="background-color: rgba(90,90,90,0.5);">
  <!-- modal-sm -->
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background-color:#f44336; padding-bottom:24px">
        <button type="button" class="close" aria-label="Close" (click)="closeConfirmJwtSecretCreationModal()"
          style="color: #ffffff;">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" style="color: #fff">
          <i class="material-icons" style="vertical-align: middle">warning</i>
          <span style="vertical-align: middle; padding-left:8px">

            {{ "ProjectEditPage.GenerateSharedSecret" | translate }}
          </span>
        </h4>

      </div>
      <div class="modal-body" style="margin-top: 25px; margin-bottom: 25px;">
        <label style="text-align: left; padding-bottom:12px; color: #f44336" class="col-sm-12 ">
          {{ "ProjectEditPage.NoteThatWillBeSubscribed" | translate }}!
        </label>

      </div>
      <div class="modal-footer" style="text-align: center">
        <button class="btn btn-white" (click)="closeConfirmJwtSecretCreationModal()" style="padding:12px 16px;">
          <!-- {{ "ProjectEditPage.Cancel" | translate }} -->
          {{ "Cancel" | translate }}
        </button>
        <button style="margin-top:0px" class="btn btn-danger" (click)="generateSharedSecret()">

          {{ "ProjectEditPage.Generate" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- -----------------------------------------------------------  -->
<!-- SHARED SECRET GENERATED MODAL INFO -->
<!-- -----------------------------------------------------------  -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayJwtSecretGeneratedModal}"
  style="background-color: rgba(90,90,90,0.5);">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header" style="background-color:#00bcd4; padding-bottom:24px">
        <button type="button" class="close" aria-label="Close" (click)="closeJwtSecretGeneratedModal()"
          style="color: #ffffff;">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" style="color: #fff">
          <i class="material-icons" style="vertical-align: middle">info</i>
          <span style="vertical-align: middle; padding-left:8px">

            {{ "ProjectEditPage.SharedSecretGenerated" | translate }}
          </span>
        </h4>
        <!-- <h4 class="modal-title" style="color: #fff; padding-top:10px; font-size: 1.1em ">
            {{ "ProjectEditPage.TheProjectWillBeDeleted" | translate }}
        </h4> -->
      </div>
      <div class="modal-body">
        <label style="color: rgb(118, 149, 165); font-weight:100; text-align: left;" class="col-sm-10 ">
          {{ "ProjectEditPage.ThisIsYourSharedSecret" | translate }}:
        </label>
        <div class="col-sm-10">
          <div class="input-group">
            <input id="sharedSecretInput" readonly [(ngModel)]="sharedSecret" class="" type="text"
              style="border-top-right-radius: 0px; border-bottom-right-radius: 0px">
            <span class="input-group-btn" style="padding-right: 0px;padding-left: 0px;">
              <button class="btn btn-white" (click)="copySharedSecret()"
                style="padding-bottom: 9px; margin-bottom: 9px; padding-top: 10px; border-top-right-radius: 5px; border-bottom-right-radius: 5px">
                {{ "ProjectEditPage.Copy" | translate }}
              </button>
            </span>
          </div>
        </div>
        <label style="color:#f44336; text-align: left; margin-top: 5px;" class="col-sm-10 ">
          {{ "ProjectEditPage.NoteThatWillBeDisplayedOnce" | translate }}.
        </label>
      </div>
      <div class="modal-footer" style="margin-top: 75px; text-align: center">
        <button class="btn btn-primary" (click)="closeJwtSecretGeneratedModal()" style="padding:12px 16px;">
          Ok
        </button>
        <!-- <button style="margin-top:0px" class="btn btn-danger" disabled (click)="createProject()">

          {{ "ProjectEditPage.DeleteProject" | translate }}
        </button> -->
      </div>
    </div>
  </div>
</div>

<!-- -----------------------------------------------------------  -->
<!--  "CONTACT US - LET'S CHAT" MODAL  -->
<!-- -----------------------------------------------------------  -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayContactUsModal}"
  style="background-color: rgba(90,90,90,0.9); z-index: 1051 !important;">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="border-top-left-radius:6px; border-top-right-radius:6px">
      <div class="modal-header" style="padding:16px!important; border-bottom:none!important;">

        <button type="button" class="close" aria-label="Close" (click)="closeContactUsModal()">
          <span aria-hidden="true">
            <!-- &times; -->
            <svg class="tide-icon " width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M13.357 11.993l10.256 10.295c0.39 0.391 0.39 1.024 0 1.415-0.194 0.195-0.449 0.292-0.704 0.292s-0.51-0.097-0.705-0.292l-10.257-10.295-10.256 10.295c-0.194 0.195-0.449 0.292-0.704 0.292s-0.51-0.097-0.705-0.292c-0.39-0.391-0.39-1.024 0-1.415l10.256-10.295-10.256-10.294c-0.39-0.391-0.39-1.024 0-1.415s1.020-0.391 1.409 0l10.256 10.294 10.256-10.294c0.39-0.391 1.020-0.391 1.41 0 0.389 0.391 0.389 1.024 0 1.415l-10.256 10.294z">
              </path>
            </svg>
          </span>
        </button>
        <h2 class="modal-title"
          style="color: #262f3c; text-align: center; font-family: 'Poppins','Roboto', 'Arial', sans-serif; margin-top: 25px">
          <span style="vertical-align: middle;">
            {{ "Pricing.PlanChange" | translate }}
          </span>
        </h2>

      </div>
      <hr class="custom-hr" style="margin-top:10px; margin-bottom:10px">
      <div class="modal-body"
        style="padding-top: 0px; padding-bottom: 0px; padding-right: 35px; padding-left: 35px; line-height: 1">

        <div class="row">
          <div class="col-sm-12">
            <h3 style="text-align: center;  color: #8894ab; font-size: 24px">
              {{ "Pricing.ContactUsViaEmailAndTellIUsHowManyOperator" | translate}}
            </h3>
          </div>
        </div>
      </div>

      <div class="modal-footer" style="margin-top: 0px; background-color: #fff; border-top:none">
        <div style="text-align: center; margin-bottom: 25px;">
          <button type="button"
            style="background-color:#3EA9F5;color:#FFF;padding:12px 16px;border:0;border-radius:4px;font-size:18px"
            id="checkout-button-plan_EjFHNnzJXE3jul" role="link" (click)="contactUs()">
            {{'ContactUs' | translate}}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>




<!-- --------------------------------------------------------------------------------  -->
<!--  Add Payment Method to customer modal -->
<!-- --------------------------------------------------------------------------------  -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayAddPaymentMethodModal}"
  style="background-color: rgba(90,90,90,0.9);">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="border-top-left-radius:6px; border-top-right-radius:6px">
      <div class="modal-header" style="padding:4px 16px!important; border-bottom:none!important;">

        <button type="button" class="close" aria-label="Close" (click)="closePaymentMethodModal()"
          style="margin-top: 16px;">
          <span aria-hidden="true">

            <svg class="tide-icon " width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M13.357 11.993l10.256 10.295c0.39 0.391 0.39 1.024 0 1.415-0.194 0.195-0.449 0.292-0.704 0.292s-0.51-0.097-0.705-0.292l-10.257-10.295-10.256 10.295c-0.194 0.195-0.449 0.292-0.704 0.292s-0.51-0.097-0.705-0.292c-0.39-0.391-0.39-1.024 0-1.415l10.256-10.295-10.256-10.294c-0.39-0.391-0.39-1.024 0-1.415s1.020-0.391 1.409 0l10.256 10.294 10.256-10.294c0.39-0.391 1.020-0.391 1.41 0 0.389 0.391 0.389 1.024 0 1.415l-10.256 10.294z">
              </path>
            </svg>
          </span>
        </button>
        <h2 class="modal-title"
          style="color: #262f3c; text-align: center; font-family:'Poppins','Roboto', 'Arial', sans-serif">
          <span style="vertical-align: middle;">
            {{'ChangeCard' | translate}}
          </span>
        </h2>

      </div>
      <hr class="custom-hr" style="margin-top:0px; margin-bottom:24px">
      <div class="modal-body" *ngIf="DISPLAY_ADD_CARD_COMPLETED === false"
        style="padding-top: 0px; padding-bottom: 0px; padding-right: 35px; padding-left: 35px; line-height: 1">

        <div class="cc-form-wpr">
          <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" novalidate>
            <div class="row">
              <!--   -->
              <label class="col-sm-12 change-card-label" for="creditCard">{{'CardNumber' | translate }}</label>
              <div class="col-sm-12" style="position: relative;">
                <input placeholder="1234 1234 1234 1234" #ccNumber id="cc-number" formControlName="creditCard"
                  name="creditCard" type="tel" autocomplete="off" appOnlynumber (blur)="creditCardNumberSpacing()"
                  (paste)="onPasteCreditCardNumber($event)" (keyup)="creditCardNumberSpacing()">
              </div>
              <div class="cc-number-field--cc-image-wpr">
                <!-- ---------------------------------------------------------------------------- -->
                <!-- card image displayed when the credit card number field is empty  -->
                <!-- ---------------------------------------------------------------------------- -->
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image" *ngIf="form?.get('creditCard')?.value?.length < 7 ">
                    <img src="assets/img/cc_brand/visa.svg" alt="visa" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image" *ngIf="form?.get('creditCard')?.value?.length < 7">
                    <img src="assets/img/cc_brand/mastercard.svg" alt="mastercard" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image" *ngIf="form?.get('creditCard')?.value?.length < 7">
                    <img src="assets/img/cc_brand/amex.svg" alt="amex" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image" *ngIf="form?.get('creditCard')?.value?.length < 7">
                    <img src="assets/img/cc_brand/unionpay.svg" alt="unionpay" class="cc-brand-img">
                  </span>
                </div>

                <!-- ---------------------------------------------------------------------------- -->
                <!-- card image displayed when the credit card number field is fullfilled  -->
                <!-- ---------------------------------------------------------------------------- -->
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'visa'">
                    <img src="assets/img/cc_brand/visa.svg" alt="visa" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'mastercard'">
                    <img src="assets/img/cc_brand/mastercard.svg" alt="mastercard" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'amex'">
                    <img src="assets/img/cc_brand/amex.svg" alt="amex" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'unionpay'">
                    <img src="assets/img/cc_brand/unionpay.svg" alt="unionpay" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'discover'">
                    <img src="assets/img/cc_brand/discover.svg" alt="discover" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'diners'">
                    <img src="assets/img/cc_brand/diners.svg" alt="diners" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'jcb'">
                    <img src="assets/img/cc_brand/jcb.svg" alt="jcb" class="cc-brand-img">
                  </span>
                </div>
                <div style="transform: none;">
                  <span class="cc-number-field--cc-image"
                    *ngIf="form?.get('creditCard')?.value?.length > 7 && card_brand === 'unknown'">
                    <img src="assets/img/cc_brand/unknown.svg" alt="jcb" class="cc-brand-img">
                  </span>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-sm-8">
                <label class="change-card-label" for="expirationDate">{{'ExpirationDate' | translate }}</label>
                <input #ccExpdate id="cc-exp-date" placeholder="MM / YYYY" formControlName="expirationDate"
                  name="expirationDate" type="tel" autocomplete="off" ccExp minlength="7" maxlength="7">
              </div>
              <div class="col-sm-4">
                <label class="change-card-label" for="cvc">CVC</label>
                <input id="cc-cvc" formControlName="cvc" name="cvc" type="tel" autocomplete="off" ccCvc appOnlynumber
                  minlength="{{CVC_LENGHT}}" maxlength="{{CVC_LENGHT}}">
              </div>
            </div>
            <div class="row" style="min-height: 16px; margin-top: 4px;">
              <!-- margin-top: 6px; min-height: 20px;-->
              <div class="col-sm-12" style="text-align: center;">
                <span *ngIf="CARD_HAS_ERROR === true && SPINNER_IN_ADD_CARD_MODAL === false" style="color: #f44336">
                  {{ credit_card_error_msg }}
                </span>
                <span *ngIf="!CARD_HAS_ERROR && SPINNER_IN_ADD_CARD_MODAL === true" class="change-card-label">
                  {{'Processing' | translate }}
                </span>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12" style="text-align: center;margin-top: 12px;margin-bottom: 3px;">

                <button class="close-add-card-btn" (click)="closePaymentMethodModal()"
                  [disabled]="!CARD_HAS_ERROR && SPINNER_IN_ADD_CARD_MODAL === true">
                  {{'Cancel' | translate}}
                </button>
                <button class="add-card-btn" type="submit"
                  [disabled]="!form.valid || (!CARD_HAS_ERROR && SPINNER_IN_ADD_CARD_MODAL === true) "
                  [ngClass]="{'add-card-btn-disabled': !form.valid || (!CARD_HAS_ERROR && SPINNER_IN_ADD_CARD_MODAL === true)}">
                  {{'ChangeCard' | translate}}
                </button>
              </div>
            </div>
          </form>
          <!-- form value {{form.value | json }}
          form status: {{ form.status | json }} -->
        </div>

      </div> <!-- ./ modal-body of the form -->
      <div class="modal-body" style="padding-right: 15px;padding-top:0px;padding-bottom: 15px;"
        *ngIf="DISPLAY_ADD_CARD_COMPLETED === true">
        <div class="success-checkmark" style="top:5px">
          <div class="check-icon">
            <span class="success-icon-line success-line-tip"></span>
            <span class="success-icon-line success-line-long"></span>
            <div class="success-icon-circle"></div>
            <div class="success-icon-fix"></div>
          </div>
        </div>

        <h3 style="text-align: center;  color: #8894ab; font-size: 22px; margin-bottom: 13px; margin-top: 15px;">
          {{ "CardChangedSuccessfully" | translate }}
        </h3>

        <div class="row">
          <div class="col-sm-12" style="text-align: center;margin-top: 10px;">
            <button class="add-card-btn" (click)="closePaymentMethodModal()" style="margin-left: 0px;">
              {{ "UserProfile.Continue" | translate }}
            </button>
          </div>
        </div>
      </div>

      <div class="modal-footer" style="margin-top: 0px; background-color: #fff; border-top:none">


      </div>
    </div>
  </div>
</div>