<p style="z-index: 1050;position: relative;margin-top:6px; padding-left:30px" class="navbar-brand">
  Home
  <!-- <button (click)="sumuptest()" type="button">  test  </button> -->
</p>
<!-- -------------------------------------------------------------------------------- -->
<!-- New home  -->
<!-- -------------------------------------------------------------------------------- -->

<div class="overlay" style="display: none;" [ngStyle]="{ 'height': elemHomeMainContentHeight }"></div>
<div class="main-content home-main-content">
  <div class="container-fluid " style="max-width: 100%;padding-right: 0px; padding-left: 0px;">

    <div class="home-project">

      <div class="flex flex-col flex-auto min-w-0">
        <div class="bg-card">
          <div class="flex flex-col w-full max-w-screen-xl mx-auto padding-l-r">

            <div class="flex flex-col sm-flex-row flex-auto sm-items-center min-w-0 my-8 sm:my-12">
              <div class="flex flex-auto items-center min-w-0">
                <div class="flex-0 w-16 h-16  overflow-hidden">

                  <svg *ngIf="isVisiblePay" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 65.2 65.2"
                    style="enable-background:new 0 0 65.2 65.2;" xml:space="preserve" class="td--logo">
                    <g>
                      <path fill="#F18876" d="M54.9,29.8H35.6c-1.7,0-3-1.4-3-3V7.5c0-1.7-1.4-3-3-3H10.3c-1.7,0-3,1.4-3,3v22.3v22.3c0,1.7,1.4,3,3,3H9h3.5
		                    c0.7,0,1.4,0.3,1.9,0.8l2.2,2.2l2.1,2.1c0.7,0.7,1.8,0.7,2.5,0l2.1-2.1l2.2-2.2c0.5-0.5,1.2-0.8,1.9-0.8h27.6c1.7,0,3-1.4,3-3V32.8
                        C58,31.2,56.6,29.8,54.9,29.8" />
                    </g>
                    <g class="running">
                      <path [ngClass]="{
                        'free-plan-badge': project?.plan_badge_background_type === 'free_plan_badge', 
                        'a-plan-badge':  project?.plan_badge_background_type === 'a_plan_badge',
                        'b-plan-badge': project?.plan_badge_background_type === 'b_plan_badge', 
                        'bb-plan-badge': project?.plan_badge_background_type === 'bb_plan_badge',
                        'c-plan-badge': project?.plan_badge_background_type === 'c_plan_badge',
                        'unsupported-plan-badge': project?.plan_badge_background_type === 'unsupported_plan_badge'
                        }" d="M56.1,25.7H38.5c-1,0-1.8-0.8-1.8-1.8V6.3c0-1,0.8-1.8,1.8-1.8h17.6c1,0,1.8,0.8,1.8,1.8v17.6
		                    C58,24.9,57.1,25.7,56.1,25.7" />
                    </g>
                  </svg>

                  <div *ngIf="!isVisiblePay && !custom_company_home_logo" class="logo-no--text">
                    <img [src]="companyLogoNoText" class="img-fluid" style="max-width: 35px; height: auto;" />
                  </div>
                  <!-- <svg *ngIf="!isVisiblePay && !custom_company_home_logo" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 65.2 65.2"
                    style="enable-background:new 0 0 65.2 65.2;" xml:space="preserve" class="td--logo">
                    <g>
                      <path fill="#F18876" d="M54.9,29.8H35.6c-1.7,0-3-1.4-3-3V7.5c0-1.7-1.4-3-3-3H10.3c-1.7,0-3,1.4-3,3v22.3v22.3c0,1.7,1.4,3,3,3H9h3.5
                      c0.7,0,1.4,0.3,1.9,0.8l2.2,2.2l2.1,2.1c0.7,0.7,1.8,0.7,2.5,0l2.1-2.1l2.2-2.2c0.5-0.5,1.2-0.8,1.9-0.8h27.6c1.7,0,3-1.4,3-3V32.8
                      C58,31.2,56.6,29.8,54.9,29.8" />
                    </g>
                    <g class="running">
                      <path d="M56.1,25.7H38.5c-1,0-1.8-0.8-1.8-1.8V6.3c0-1,0.8-1.8,1.8-1.8h17.6c1,0,1.8,0.8,1.8,1.8v17.6
                      C58,24.9,57.1,25.7,56.1,25.7" fill="#E5BBAD" />
                    </g>
                  </svg> -->

                  <div *ngIf="!isVisiblePay && custom_company_home_logo">
                    <img [src]="companyLogoNoText" class="img-fluid" style="max-width: 35px; height: auto;" />
                  </div>

                </div>
                <!-- style="flex-direction: row !important;" -->
                <div class="flex flex-col min-w-0 ml-4">
                  <!-- leading-7 -->
                  <div class="text-2xl md-text-5xl font-w-400 tracking-tight  md-leading-snug truncate project---name">
                    <span style="font-family: 'Poppins', Arial, sans-serif;">
                      {{ prjct_name }}
                    </span>
                    <span class="material-icons home-edit-project-name-icon" (click)="goToProjectSettingsGeneral()"
                      matTooltipClass="custom-mat-tooltip" matTooltip="{{'EditProjectName' | translate }}"
                      #tooltip="matTooltip" matTooltipPosition='below' matTooltipHideDelay="100">
                      mode_edit
                    </span>
                  </div>
                  <!-- (click)="goToSubscriptionOrOpenModalSubsExpired()" -->
                  <div class="flex items-center" *ngIf="project_plan_badge" style="cursor: pointer"
                    (click)="goToSubscription()">
                    <div class="home-project-plan-badge" [ngClass]="{
                      'free-plan-badge': project?.plan_badge_background_type === 'free_plan_badge', 
                      'a-plan-badge':  project?.plan_badge_background_type === 'a_plan_badge',
                      'b-plan-badge': project?.plan_badge_background_type === 'b_plan_badge', 
                      'bb-plan-badge': project?.plan_badge_background_type === 'bb_plan_badge', 
                      'c-plan-badge': project?.plan_badge_background_type === 'c_plan_badge',
                      'unsupported-plan-badge': project?.plan_badge_background_type === 'unsupported_plan_badge'
                      }">
                      <span style="border-bottom: 1px dotted #3ea9f5;">
                        {{ prjct_profile_name }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              <!-- ---------------------------------- -->
              <!-- Left side mt-6 -------------------------------------------------------------------------------------------------------------->
              <!-- ---------------------------------- -->
              <div class="flex items-center  sm-mt-0 sm-ml-2 space-x-3">

                <!-- ------------------------------------ -->
                <!-- Operating Hours style="background-color: #f44336-->
                <!-- ------------------------------------ -->
                <!-- {{'AdjustOperatingHours' | translate}} -->
                <ng-container *ngIf="isVisibleOPH && USER_ROLE !== 'agent'">
                  <button id="adjust-operating-hours-btn" #editOperatingHoursBtn mat-mini-fab
                    aria-label="date_range icon" [satPopoverAnchor]="editOperatingHours"
                    (click)="editOperatingHours.toggle();" matTooltipClass="custom-mat-tooltip"
                    matTooltip="Adjust operating hours" #tooltip="matTooltip" matTooltipPosition='below'
                    matTooltipHideDelay="100">
                    <mat-icon style="position: relative;top: -2px;"
                      [ngClass]="{'oph-disabled': !OPERATING_HOURS_ACTIVE || DISPLAY_OPH_AS_DISABLED, 'oph-enabled': OPERATING_HOURS_ACTIVE && !DISPLAY_OPH_AS_DISABLED }">
                      date_range
                    </mat-icon>
                  </button>

                  <sat-popover #editOperatingHours id="edit-operating-hours" horizontalAlign="center"
                    verticalAlign="center" hasBackdrop
                    (backdropClicked)="editOperatingHours.close(); operatingHoursPopoverClosed()"
                    panelClass="edit-operating-hours" interactiveClose="false">
                    <div class="edit-operating-hours-content-wpr" style="padding-top: 8px;padding-bottom: 8px;">

                      <div
                        style="align-items: center;color: rgba(0,0,0,.55); display: flex;padding-left: 16px;padding-right: 16px;">

                        <div class="opicon" style=" padding-right: 8px;">
                          <button mat-mini-fab aria-label="Button with a date_range icon"
                            [ngClass]="{'oph-btn-disabled': !OPERATING_HOURS_ACTIVE || DISPLAY_OPH_AS_DISABLED, 'oph-btn-enabled': OPERATING_HOURS_ACTIVE && !DISPLAY_OPH_AS_DISABLED }"
                            style="box-sizing: unset; cursor: default ;" disabled>
                            <mat-icon style="color: #fff;position: relative;top: -2px;">date_range</mat-icon>
                          </button>
                        </div>

                        <div class="optext"
                          style="overflow: hidden;padding-right: 12px;display: flex;flex-direction: column;align-items: center;justify-content: center;">

                          <div style="color: rgba(0, 0, 0, 0.87);font-weight: 500;font-size: 14px;">
                            <!-- {{'Hours' | translate}} -->
                            General Operating Hours
                          </div>

                          <div style="font-size: 12px;font-weight: 500;text-transform: uppercase;">
                            <span *ngIf="!OPERATING_HOURS_ACTIVE || DISPLAY_OPH_AS_DISABLED">
                              <!-- {{'Disabled' | translate}} -->
                              Disabled
                            </span>

                            <span *ngIf="OPERATING_HOURS_ACTIVE && !DISPLAY_OPH_AS_DISABLED">
                              <!-- {{'Enabled' | translate}} -->
                              Enabled
                            </span>
                          </div>
                        </div>
                        <button tabindex="-1" mat-icon-button color="primary" aria-label="Button with a settings icon"
                          (click)="goToOperatingHours()">
                          <mat-icon>settings</mat-icon>
                        </button>
                      </div>
                    </div>
                  </sat-popover>
                </ng-container>

                <!-- ------------------------------------ -->
                <!-- Settings  mat-primary ng-reflect-color="primary"  -->
                <!-- ------------------------------------ -->
                <button id="dashlet-filter-btn" *ngIf="USER_ROLE !== 'agent'" mat-mini-fab aria-label="filter icon"
                  [matMenuTriggerFor]="dashletMenu" matTooltipClass="custom-mat-tooltip" matTooltip="Dashlets filter"
                  #tooltip="matTooltip" matTooltipPosition='below' matTooltipHideDelay="100">
                  <!-- <span class="mat-button-wrapper"> -->
                  <mat-icon style="color: #3ea9f5;position: relative; top: -1px;">
                    tune
                  </mat-icon>
                  <!-- <span class="ml-2 button-dashlet-settings">
                      <!- - {{'ViewOption' | translate}} - ->
                      View Options
                    </span> -->
                  <!-- </span> -->


                </button>

                <mat-menu #dashletMenu="matMenu">
                  <!-- *ngIf="displayAnalyticsConvsGraph" -->
                  <!-- *ngIf="isVisibleANA" -->
                  <button mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayAnalyticsConvsGraph"
                      (change)="switchAnalyticsConvsGraph($event.checked)"></mat-checkbox>
                    <span>Conversations chart</span>
                  </button>
                  <!-- *ngIf="displayAnalyticsIndicators" -->
                  <!-- *ngIf="isVisibleANA" -->
                  <button mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayAnalyticsIndicators"
                      (change)="switchAnalyticsIndicators($event.checked)">
                    </mat-checkbox>

                    <span>Analytics Overview</span>
                  </button>

                  <!-- --------------------- -->
                  <!-- From here -->
                  <!-- --------------------- -->
                  <!-- <button mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayConnectWhatsApp"
                      (change)="switchConnectWhatsApp($event.checked)"></mat-checkbox>
                    <span>Connect WhatsApp </span>
                  </button>
                  <button mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayCreateChatbot"
                      (change)="switchCreateChatbot($event.checked)"></mat-checkbox>
                    <span>Create Chatbot</span>
                  </button>
                  <button mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayInviteTeammate"
                      (change)="switchInviteTeammate($event.checked)"></mat-checkbox>
                    <span>Invite teammate</span>
                  </button>
                  <button mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayKnowledgeBase"
                      (change)="switchyKnowledgeBase($event.checked)"></mat-checkbox>
                    <span>Knowledge Base</span>
                  </button> 
                  <button mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayCustomizeWidget"
                      (change)="switchCustomizeWidget($event.checked)"></mat-checkbox>
                    <span>Customize widget</span>
                  </button>    -->

                  <!-- --------------------- -->
                  <!-- To here -->
                  <!-- --------------------- -->


                  <button *ngIf="displayNewsAndDocumentation" mat-menu-item (click)="$event.stopPropagation()">
                    <mat-checkbox class="home-settings-checkbox" [checked]="displayNewsFeed"
                      (change)="switchNewsFeed($event.checked)"></mat-checkbox>
                    <span>News Feed</span>
                  </button>
                </mat-menu>
              </div>
            </div>
          </div>
        </div> <!-- ./ bg-card -->

        <!-- QUOTA Banner -->
        <div class="home-quota-banner" *ngIf="conversationsRunnedOut || emailsRunnedOut || tokensRunnedOut" >
          <div class="home-quota-banner-title-wpr">
            <div class="home-quota-banner-icon">
              <svg xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                <path
                  d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z" />
              </svg>

            </div>
            <div class="home-quota-banner-title">
              ATTENTION: You have used up one or more of your monthly resources. To increase your monthly resources quotas, 
              <span class="sales-mail-to" (click)="contacUsViaEmail()"> contact our sales team </span>
            </div>
          </div>
          <!-- displayQuotaSkeleton > {{ displayQuotaSkeleton }} -->
          <div class="first-card is-loading" *ngIf="displayQuotaSkeleton">
            <div class="quota-skeleton-container">
              <div class="quota-skeleton-wpr">
                <div class="quota--fake--box"></div>
                <div class="quota--fake--circle"></div>
              </div>
              <div class="quota-skeleton-wpr">
                <div class="quota--fake--box"></div>
                <div class="quota--fake--circle"></div>
              </div>
              <div class="quota-skeleton-wpr">
                <div class="quota--fake--box"></div>
                <div class="quota--fake--circle"></div>
              </div>
            </div>
          </div>


          <div class="home-quota-wpr" *ngIf="!displayQuotaSkeleton">
            <!-- -------------------------- -->
            <!-- Conversations  -->
            <!-- -------------------------- -->
            <div class="home-quote-container"
              [ngClass]="{'home-quote-container-conversations-runned-out': conversationsRunnedOut}">

              <div class="home-quote-title-count-wpr">
                <p class="quote-title">Conversations</p>
                <div class="quote-count">{{requests_count | number:'1.0-0'}} / {{requests_limit | number:'1.0-0'}}</div>
                <div class="quota-runned-out-msg" *ngIf="conversationsRunnedOut">
                  You run out of converations
                </div>
              </div>

              <div class="quote">
                <mat-progress-spinner class="example-margin" [strokeWidth]="5" [diameter]="50" [color]="'primary'"
                  [mode]="'determinate'" [value]="requests_perc"
                  [ngClass]="{'mat-progress-spinner-conversations-runned-out': conversationsRunnedOut}">
                </mat-progress-spinner>

                <div class="percentage" [ngClass]="{'percentage-conversations-runned-out': conversationsRunnedOut}">
                  {{ requests_perc }}
                  <span style="font-size: 10px; margin-top: 2px; margin-left: 1px"> %</span>
                </div>
              </div>
            </div>
            <!-- -------------------------- -->
            <!-- AI Tokens -->
            <!-- -------------------------- -->
            <div class="home-quote-container"
              [ngClass]="{'home-quote-container-tokens-runned-out': tokensRunnedOut}">
              <div class="home-quote-title-count-wpr">
                <p class="quote-title">AI Tokens</p>
                <div class="quote-count">{{tokens_count | number:'1.0-0'}} / {{tokens_limit | number:'1.0-0'}}</div>
                <div class="quota-runned-out-msg" *ngIf="tokensRunnedOut">
                  You run out of AI Tokens
                </div>
              </div>

              <div class="quote">
                <mat-progress-spinner class="example-margin" [strokeWidth]="5" [diameter]="50" [color]="'primary'"
                  [mode]="'determinate'" [value]="tokens_perc"
                  [ngClass]="{'mat-progress-spinner-token-runned-out': tokensRunnedOut}">
                </mat-progress-spinner>

                <div class="percentage" [ngClass]="{'percentage-token-runned-out': tokensRunnedOut}">
                  {{ tokens_perc }}
                  <span style="font-size: 10px; margin-top: 2px; margin-left: 1px"> %</span>
                </div>
              </div>

            </div>

            <!-- -------------------------- -->
            <!-- Email -->
            <!-- -------------------------- -->
            <div class="home-quote-container"
            [ngClass]="{'home-quote-container-email-runned-out': emailsRunnedOut}">

              <div class="home-quote-title-count-wpr">
                <p class="quote-title">Email</p>
                <div class="quote-count">{{email_count | number:'1.0-0'}} / {{email_limit | number:'1.0-0'}}</div>
                <div class="quota-runned-out-msg" *ngIf="emailsRunnedOut">
                  You run out of Email
                </div>
              </div>

              <div class="quote">
                <mat-progress-spinner class="example-margin" [strokeWidth]="5" [diameter]="50" [color]="'primary'"
                  [mode]="'determinate'" [value]="email_perc"
                  [ngClass]="{'mat-progress-spinner-email-runned-out': emailsRunnedOut}">
                </mat-progress-spinner>

                <div class="percentage" [ngClass]="{'percentage-email-runned-out': emailsRunnedOut}">
                  {{ email_perc }}
                  <span style="font-size: 10px; margin-top: 2px; margin-left: 1px"> %</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- .\ QUOTA Banner  -->

        <div class="home-blocks-wpr">


          <!-- // Skeleton START   -->
          <div *ngIf="showskeleton" class="skeleton">

            <!-- Skeleton for chatbot hero section -->
            <!-- *ngIf="areVisibleChatbot"  -->
            <!-- <ng-container *ngIf="!displayKbHeroSection"> -->
            <div style="min-height: 286px;" class="first-card is-loading">
              <div class="fake--circle"></div>
              <div class="fake--box"></div>
              <div class="sm--fake--box"></div>
              <div class="fake--btn"></div>
            </div>
            <!-- </ng-container> -->

            <!-- Skeleton for kb hero section -->
            <!-- <ng-container *ngIf="displayKbHeroSection">
              <div style="min-height: 286px;" *ngIf="isVisibleKNB" class="first-card is-loading">
                <div class="fake--circle"></div>
                <div class="fake--box"></div>
                <div class="sm--fake--box"></div>
                <div class="fake--btn"></div>
              </div>
            </ng-container> -->

            <!-- // CARD 1 -->
            <mat-card class="card mat-elevation-z3 is-loading">
              <mat-card-content>
                <div class="content">

                  <div style="margin-bottom: 16px;">
                    <h2></h2>
                    <div style="display: flex; flex-direction: row;">
                      <div class="fake-circle"></div>
                      <div class="fake-circle"></div>
                      <div class="fake-circle"></div>
                      <div class="fake-circle"></div>
                      <div class="fake-circle"></div>
                    </div>
                  </div>

                  <div style="display: flex; justify-content: center; margin-bottom: 16px;">
                    <button style="width: 140px;"></button>
                  </div>

                  <h3 style="margin-bottom: 16px;"></h3>

                  <div style="width: 100%; display: flex; flex-direction: row; justify-content: flex-start;">
                    <div class="fake-box"></div>
                    <div class="fake-box"></div>
                    <div class="fake-box"></div>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>

            <!-- // CARD 2 -->
            <mat-card class="card mat-elevation-z3 is-loading">
              <mat-card-content>
                <div class="content">

                  <div>
                    <h2></h2>
                    <p></p>
                    <p style="width: 560px;"></p>
                  </div>

                  <div class="fake-footer">
                    <button style="width: 250px; margin-right: 10px;"></button>
                    <button></button>
                  </div>

                </div>
              </mat-card-content>
            </mat-card>

            <!-- // CARD 3 -->
            <mat-card class="card mat-elevation-z3 is-loading">
              <mat-card-content>
                <div class="content">

                  <div style="margin-bottom: 16px;">
                    <h2 style="width: 180px;"></h2>
                    <div style="display: flex; flex-direction: row;">
                      <div class="fake-circle"></div>
                      <div class="fake-circle"></div>
                      <div class="fake-circle"></div>
                    </div>

                  </div>

                  <p style="width: 560px;"></p>

                  <div class="fake-footer">
                    <button></button>
                  </div>

                </div>
              </mat-card-content>
            </mat-card>

            <!-- // CARD 4 -->
            <mat-card class="card mat-elevation-z3 is-loading">
              <mat-card-content>
                <div class="content">

                  <div>
                    <h2></h2>

                    <div style="display: flex; flex-direction: row; justify-content: space-between;">
                      <div>
                        <p style="width: 620px;"></p>
                        <p style="width: 460px;"></p>
                        <p style="width: 540px;"></p>
                      </div>
                      <button style="width: 120px;"></button>
                    </div>
                  </div>


                </div>
              </mat-card-content>
            </mat-card>
          </div>
          <!-- // Skeleton END -->


          <ng-container *ngIf="!showskeleton ">



            <span *ngIf="USER_ROLE !== 'agent'">



              <!-- areVisibleChatbot > {{ areVisibleChatbot }} - isVisibleKNB > {{isVisibleKNB}} -->
              <!-- for chatbot hero section -->
              <ng-container *ngIf="areVisibleChatbot">
                <home-cds (goToCreateChatbot)="goToCreateChatbot()" (dismissKbSkeleton)="dismissKbSkeleton($event)"
                  [chatbots]="chatbots" [displayKbHeroSection]="displayKbHeroSection" [isVisibleKNB]="isVisibleKNB">
                </home-cds>
              </ng-container>

              <!-- for kb hero section -->
              <!-- <ng-container *ngIf="displayKbHeroSection">
                <home-cds *ngIf="isVisibleKNB"
                  (goToCreateChatbot)="goToCreateChatbot()" 
                  (dismissKbSkeleton)="dismissKbSkeleton($event)"
                  [chatbots] = "chatbots"
                  [displayKbHeroSection]="displayKbHeroSection" > </home-cds>
              </ng-container> -->

              <div class="home--blocks" id="homeBlocks" *ngFor="let item of child_list_order">

                <!-- ----------------------- -->
                <!-- Child 1 Convs Graph -->
                <!-- ----------------------- -->
                <ng-container *ngIf="item.type === 'child1'">
                  <appdashboard-home-convs-graph *ngIf="displayAnalyticsConvsGraph"
                    [displayAnalyticsConvsGraph]="displayAnalyticsConvsGraph" [projectId]="projectId"
                    [USER_ROLE]="USER_ROLE" (trackUserAction)="trackUserAction($event)">
                  </appdashboard-home-convs-graph>
                </ng-container>

                <!-- ----------------------- -->
                <!-- Child 2 Analytics Indicator-->
                <!-- ----------------------- -->
                <ng-container *ngIf="item.type === 'child2'">
                  <appdashboard-home-analytics-indicator *ngIf="displayAnalyticsIndicators" [projectId]="projectId"
                    [USER_ROLE]="USER_ROLE" (trackUserAction)="trackUserAction($event)">
                  </appdashboard-home-analytics-indicator>
                </ng-container>

                <!-- ----------------------- -->
                <!-- Child 3 Whatsapp Wizard -->
                <!-- ----------------------- -->
                <ng-container *ngIf="item.type === 'child3'">
                  <appdashboard-home-whatsapp-account-wizard *ngIf="displayWhatsappAccountWizard"
                    style="margin-bottom: 18px;" (goToConnectWA)="goToConnectWA()"
                    (goToCreateChatbot)="goToCreateChatbot()" (hasTestedBotOnWa)="hasTestedBotOnWa()"
                    [whatsAppIsConnected]="whatsAppIsConnected" [wadepartmentName]="wadepartmentName"
                    [chatbotConnectedWithWA]='chatbotConnectedWithWA' [waBotId]="waBotId"
                    [use_case_for_child]="use_case_for_child" [solution_channel_for_child]="solution_channel_for_child"
                    [solution_for_child]="solution_for_child" [testBotOnWA]="testBotOnWA"
                    [botIdForTestWA]="botIdForTestWA" (hasCreatedChatbot)="hasCreatedChatbot($event)">
                  </appdashboard-home-whatsapp-account-wizard>
                </ng-container>

                <!-- ----------------------- -->
                <!-- Child 4 Whatsapp Account-->
                <!-- ----------------------- -->
                <ng-container *ngIf="item.type === 'child4'">
                  <appdashboard-home-whatsapp-account *ngIf="displayConnectWhatsApp" style=" z-index: 11;"
                    #childWhatsappAccount (onClickOnUnistallApp)="onClickOnUnistallApp()"
                    (onClickOnGoToLearnMoreOrManageApp)="onClickOnGoToLearnMoreOrManageApp()"
                    (onClickOnDisplayWhatsAppWizard)="onClickOnDisplayWhatsAppWizard()"
                    [whatsAppIsInstalled]="whatsAppIsInstalled" [whatsAppIsConnected]="whatsAppIsConnected"
                    [solution_channel_for_child]="solution_channel_for_child" [solution_for_child]="solution_for_child"
                    [userHasClickedDisplayWAWizard]="userHasClickedDisplayWAWizard">
                  </appdashboard-home-whatsapp-account>
                </ng-container>

                <!-- ----------------------- -->
                <!-- Child 5 Create Chatbot -->
                <!-- ----------------------- -->
                <ng-container *ngIf="item.type === 'child5' && areVisibleChatbot">
                  <appdashboard-home-create-chatbot #childCreateChatbot *ngIf="displayCreateChatbot"
                    [use_case_for_child]="use_case_for_child" [solution_channel_for_child]="solution_channel_for_child"
                    [waBotId]="waBotId" [wadepartmentName]="wadepartmentName"
                    [chatbotConnectedWithWA]="chatbotConnectedWithWA"
                    (botHookedToDefaultDept)="botHookedToDefaultDept($event)"
                    (trackUserAction)="trackUserAction($event)">
                  </appdashboard-home-create-chatbot>
                </ng-container>



                <!-- ----------------------- -->
                <!-- Child 7 KB -->
                <!-- ----------------------- -->
                <!-- *ngIf="displayKnowledgeBase" -->
                <ng-container *ngIf="areVisibleChatbot">
                  <ng-container *ngIf="item.type === 'child7' && isVisibleKNB && !displayKbHeroSection">
                    <appdashboard-home-kb (trackUserAction)="trackUserAction($event)">
                    </appdashboard-home-kb>
                  </ng-container>
                </ng-container>

                <!-- <ng-container  *ngIf="areVisibleChatbot">
                  <ng-container *ngIf="item.type === 'child6' && isVisibleKNB">
                    <appdashboard-home-kb (trackUserAction)="trackUserAction($event)">
                    </appdashboard-home-kb>
                  </ng-container>
                </ng-container> -->



                <!-- ----------------------- -->
                <!-- Child 6 Create Teammate -->
                <!-- ----------------------- -->
                <ng-container *ngIf="item.type === 'child7'">
                  <appdashboard-home-create-teammate *ngIf="displayInviteTeammate">
                  </appdashboard-home-create-teammate>
                </ng-container>

                <!-- ----------------------- -->
                <!-- Child 8 Customize Widget -->
                <!-- ----------------------- -->
                <ng-container *ngIf="item.type === 'child8'">
                  <appdashboard-home-customize-widget *ngIf="displayCustomizeWidget"
                    (trackUserAction)="trackUserAction($event)">
                  </appdashboard-home-customize-widget>
                </ng-container>

              </div>
            </span>
            <span *ngIf="USER_ROLE === 'agent'">
              <div class="home--blocks">


                <!-- <appdashboard-home-convs-graph *ngIf="isVisibleANA"
                  [displayAnalyticsConvsGraph]="displayAnalyticsConvsGraph" [projectId]="projectId"
                  [USER_ROLE]="USER_ROLE">
                </appdashboard-home-convs-graph> -->


                <!-- <appdashboard-home-analytics-indicator *ngIf="isVisibleANA" [projectId]="projectId"
                  [USER_ROLE]="USER_ROLE">
                </appdashboard-home-analytics-indicator> -->


                <appdashboard-home-create-teammate> </appdashboard-home-create-teammate>

                <appdashboard-home-go-to-chat></appdashboard-home-go-to-chat>


              </div>
            </span>
          </ng-container>
        </div>

        <ng-container *ngIf="displayNewsAndDocumentation && USER_ROLE !== 'agent'">
          <div *ngIf="!showsNewsFeedSkeleton" class="news-feed-wpr">
            <!-- [showskeleton]="showskeleton" -->
            <appdashboard-home-news-feed *ngIf="displayNewsFeed"></appdashboard-home-news-feed>
          </div>
        </ng-container>
      </div>




    </div>
  </div>
</div>


<!-- -------------------------------------------------------------------------------- -->
<!-- ./New home  -->
<!-- -------------------------------------------------------------------------------- -->






<!-- -------------------------------- -->
<!-- Promo Banner -->
<!-- -------------------------------- -->
<!-- <appdashboard-home-promo-banner *ngIf="isVisibleHomeBanner" (showPromoBanner)='showPromoBanner()'>
</appdashboard-home-promo-banner> -->

<!-- <appdashboard-home-promo-design-studio style="position: relative; display: none;" [user]="user"
  [ngStyle]="{'margin-top':isVisibleHomeBanner === true ? '0px' : '-5px' }">
</appdashboard-home-promo-design-studio> -->




<!-- 
      ////////////////////////////////////////////////////////
      /////////// BUTTON TO TEST USER ACTIVITY LOG ///////////
      ////////////////////////////////////////////////////////  -->
<!-- <div class="col-md-3">
        <button class="btn btn-primary" (click)="goToUserActivitiesLog()">
          Activities
        </button>
      </div> -->

<!-- 
      ////////////////////////////////////////////////////////
      ///////////////// BUTTON TO TEST PRICING ///////////////
      ////////////////////////////////////////////////////////  -->

<!-- <div class="col-md-3">
        <button class="btn btn-primary" (click)="goToPricing()">
          Pricing
        </button>
      </div> -->

<!-- 
      ////////////////////////////////////////////////////////
      ///////////////// BUTTON TO TEST Analytics Static Page ///////////////
      ////////////////////////////////////////////////////////  -->
<!-- <div class="col-md-3">
        <button class="btn btn-primary" (click)="goToAnalyticsStaticPage()">
            Analytics Static Page
        </button>
      </div> -->

<!-- 
      ////////////////////////////////////////////////////////
      ///////////////// BUTTON TO TEST Activities Static Page ///////////////
      ////////////////////////////////////////////////////////  -->
<!-- <div class="col-md-3">
        <button class="btn btn-primary" (click)="goToActivitiesStaticPage()">
            Activities Static Page
        </button>
      </div> -->

<!-- 
      ////////////////////////////////////////////////////////
      ///////////////// BUTTON TO TEST Hours Static Page ///////////////
      ////////////////////////////////////////////////////////  -->
<!-- <div class="col-md-3">
          <button class="btn btn-primary" (click)="goToHoursStaticPage()">
              Hours Static Page
          </button>
        </div> -->

<!-- </div> -->

<!-- <div class="row">   </div>

    <div class="row">  </div> -->